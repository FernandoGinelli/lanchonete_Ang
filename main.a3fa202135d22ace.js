(self.webpackChunkremult_angular_todo=self.webpackChunkremult_angular_todo||[]).push([[179],{457:(ze,Ee,V)=>{"use strict";function I(e){return"function"==typeof e}function se(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const w=se(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function N(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Z{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(o){t=o instanceof w?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{be(o)}catch(s){t=t??[],s instanceof w?t=[...t,...s.errors]:t.push(s)}}if(t)throw new w(t)}}add(t){var n;if(t&&t!==this)if(this.closed)be(t);else{if(t instanceof Z){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&N(n,t)}remove(t){const{_finalizers:n}=this;n&&N(n,t),t instanceof Z&&t._removeParent(this)}}Z.EMPTY=(()=>{const e=new Z;return e.closed=!0,e})();const ne=Z.EMPTY;function de(e){return e instanceof Z||e&&"closed"in e&&I(e.remove)&&I(e.add)&&I(e.unsubscribe)}function be(e){I(e)?e():e.unsubscribe()}const K={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},q={setTimeout(e,t,...n){const{delegate:r}=q;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=q;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Y(e){q.setTimeout(()=>{const{onUnhandledError:t}=K;if(!t)throw e;t(e)})}function B(){}const H=M("C",void 0,void 0);function M(e,t,n){return{kind:e,value:t,error:n}}let A=null;function P(e){if(K.useDeprecatedSynchronousErrorHandling){const t=!A;if(t&&(A={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=A;if(A=null,n)throw r}}else e()}class z extends Z{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,de(t)&&t.add(this)):this.destination=X}static create(t,n,r){return new ge(t,n,r)}next(t){this.isStopped?$(function y(e){return M("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$(function g(e){return M("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ee=Function.prototype.bind;function ie(e,t){return ee.call(e,t)}class De{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){j(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){j(r)}else j(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){j(n)}}}class ge extends z{constructor(t,n,r){let i;if(super(),I(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&K.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ie(t.next,o),error:t.error&&ie(t.error,o),complete:t.complete&&ie(t.complete,o)}):i=t}this.destination=new De(i)}}function j(e){K.useDeprecatedSynchronousErrorHandling?function L(e){K.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=e)}(e):Y(e)}function $(e,t){const{onStoppedNotification:n}=K;n&&q.setTimeout(()=>n(e,t))}const X={closed:!0,next:B,error:function R(e){throw e},complete:B},v="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(e){return e}let b=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function k(e){return e&&e instanceof z||function x(e){return e&&I(e.next)&&I(e.error)&&I(e.complete)}(e)&&de(e)}(n)?n:new ge(n,r,i);return P(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=S(r))((i,o)=>{const s=new ge({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[v](){return this}pipe(...n){return function E(e){return 0===e.length?_:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=S(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function S(e){var t;return null!==(t=e??K.Promise)&&void 0!==t?t:Promise}const W=se(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ue=(()=>{class e extends b{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new pe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new W}next(n){P(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){P(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){P(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ne:(this.currentObservers=null,o.push(n),new Z(()=>{this.currentObservers=null,N(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new b;return n.source=this,n}}return e.create=(t,n)=>new pe(t,n),e})();class pe extends ue{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:ne}}function Ce(e){return t=>{if(function $e(e){return I(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(e,t,n,r,i){return new We(e,t,n,r,i)}class We extends z{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(e,t){return Ce((n,r)=>{let i=0;n.subscribe(we(r,o=>{r.next(e.call(t,o,i++))}))})}var Me=V(655);const Je=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function lt(e){return I(e?.then)}function Ht(e){return I(e[v])}function en(e){return Symbol.asyncIterator&&I(e?.[Symbol.asyncIterator])}function br(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ur=function Ho(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ri(e){return I(e?.[Ur])}function yn(e){return(0,Me.FC)(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield(0,Me.qq)(n.read());if(i)return yield(0,Me.qq)(void 0);yield yield(0,Me.qq)(r)}}finally{n.releaseLock()}})}function Gr(e){return I(e?.getReader)}function tn(e){if(e instanceof b)return e;if(null!=e){if(Ht(e))return function G(e){return new b(t=>{const n=e[v]();if(I(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Je(e))return function d(e){return new b(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(lt(e))return function c(e){return new b(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Y)})}(e);if(en(e))return m(e);if(Ri(e))return function h(e){return new b(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Gr(e))return function T(e){return m(yn(e))}(e)}throw br(e)}function m(e){return new b(t=>{(function U(e,t){var n,r,i,o;return(0,Me.mG)(this,void 0,void 0,function*(){try{for(n=(0,Me.KL)(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function le(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ce(e,t,n=1/0){return I(t)?ce((r,i)=>Ie((o,s)=>t(r,o,i,s))(tn(e(r,i))),n):("number"==typeof t&&(n=t),Ce((r,i)=>function J(e,t,n,r,i,o,s,a){const u=[];let l=0,f=0,p=!1;const D=()=>{p&&!u.length&&!l&&t.complete()},C=Q=>l<r?F(Q):u.push(Q),F=Q=>{o&&t.next(Q),l++;let ae=!1;tn(n(Q,f++)).subscribe(we(t,oe=>{i?.(oe),o?C(oe):t.next(oe)},()=>{ae=!0},void 0,()=>{if(ae)try{for(l--;u.length&&l<r;){const oe=u.shift();s?le(t,s,()=>F(oe)):F(oe)}D()}catch(oe){t.error(oe)}}))};return e.subscribe(we(t,C,()=>{p=!0,D()})),()=>{a?.()}}(r,i,e,n)))}const xe=new b(e=>e.complete());function Jn(e){return e[e.length-1]}function td(e){return function xn(e){return e&&I(e.schedule)}(Jn(e))?e.pop():void 0}function nd(e,t=0){return Ce((n,r)=>{n.subscribe(we(r,i=>le(r,e,()=>r.next(i),t),()=>le(r,e,()=>r.complete(),t),i=>le(r,e,()=>r.error(i),t)))})}function rd(e,t=0){return Ce((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function id(e,t){if(!e)throw new Error("Iterable cannot be null");return new b(n=>{le(n,t,()=>{const r=e[Symbol.asyncIterator]();le(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ta(e,t){return t?function n_(e,t){if(null!=e){if(Ht(e))return function Kv(e,t){return tn(e).pipe(rd(t),nd(t))}(e,t);if(Je(e))return function Xv(e,t){return new b(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(lt(e))return function Yv(e,t){return tn(e).pipe(rd(t),nd(t))}(e,t);if(en(e))return id(e,t);if(Ri(e))return function e_(e,t){return new b(n=>{let r;return le(n,t,()=>{r=e[Ur](),le(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}(e,t);if(Gr(e))return function t_(e,t){return id(yn(e),t)}(e,t)}throw br(e)}(e,t):tn(e)}function Aa(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ge({next:()=>{r.unsubscribe(),e()}});return tn(t(...n)).subscribe(r)}function tt(e){for(let t in e)if(e[t]===tt)return t;throw Error("Could not find renamed property on target object.")}function Fa(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function rt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Oa(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const o_=tt({__forward_ref__:tt});function it(e){return e.__forward_ref__=it,e.toString=function(){return rt(this())},e}function Fe(e){return Na(e)?e():e}function Na(e){return"function"==typeof e&&e.hasOwnProperty(o_)&&e.__forward_ref__===it}function xa(e){return e&&!!e.\u0275providers}class me extends Error{constructor(t,n){super(function $o(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Pe(e){return"string"==typeof e?e:null==e?"":String(e)}function Uo(e,t){throw new me(-201,!1)}function cn(e,t){null==e&&function Ke(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Xe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Go(e){return sd(e,qo)||sd(e,ud)}function sd(e,t){return e.hasOwnProperty(t)?e[t]:null}function ad(e){return e&&(e.hasOwnProperty(Pa)||e.hasOwnProperty(h_))?e[Pa]:null}const qo=tt({\u0275prov:tt}),Pa=tt({\u0275inj:tt}),ud=tt({ngInjectableDef:tt}),h_=tt({ngInjectorDef:tt});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let Ra;function dn(e){const t=Ra;return Ra=e,t}function ld(e,t,n){const r=Go(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ne.Optional?null:void 0!==t?t:void Uo(rt(e))}const ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ki={},ka="__NG_DI_FLAG__",zo="ngTempTokenPath",m_=/\n/gm,cd="__source";let Li;function qr(e){const t=Li;return Li=e,t}function v_(e,t=Ne.Default){if(void 0===Li)throw new me(-203,!1);return null===Li?ld(e,void 0,t):Li.get(e,t&Ne.Optional?null:void 0,t)}function Ue(e,t=Ne.Default){return(function p_(){return Ra}()||v_)(Fe(e),t)}function zr(e,t=Ne.Default){return Ue(e,Wo(t))}function Wo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function La(e){const t=[];for(let n=0;n<e.length;n++){const r=Fe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new me(900,!1);let i,o=Ne.Default;for(let s=0;s<r.length;s++){const a=r[s],u=__(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(Ue(i,o))}else t.push(Ue(r))}return t}function Vi(e,t){return e[ka]=t,e.prototype[ka]=t,e}function __(e){return e[ka]}function fr(e){return{toString:e}.toString()}var vn=(()=>((vn=vn||{})[vn.OnPush=0]="OnPush",vn[vn.Default=1]="Default",vn))(),Rn=(()=>{return(e=Rn||(Rn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Rn;var e})();const Zn={},Ze=[],Jo=tt({\u0275cmp:tt}),Va=tt({\u0275dir:tt}),Ba=tt({\u0275pipe:tt}),fd=tt({\u0275mod:tt}),Qn=tt({\u0275fac:tt}),Bi=tt({__NG_ELEMENT_ID__:tt});let C_=0;function ji(e){return fr(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Ze,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Rn.Emulated,id:"c"+C_++,styles:e.styles||Ze,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=e.dependencies,s=e.features;return i.inputs=gd(e.inputs,r),i.outputs=gd(e.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(hd).filter(pd):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map($t).filter(pd):null,i})}function hd(e){return Ye(e)||Nt(e)}function pd(e){return null!==e}function Kn(e){return fr(()=>({type:e.type,bootstrap:e.bootstrap||Ze,declarations:e.declarations||Ze,imports:e.imports||Ze,exports:e.exports||Ze,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gd(e,t){if(null==e)return Zn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const Re=ji;function Ye(e){return e[Jo]||null}function Nt(e){return e[Va]||null}function $t(e){return e[Ba]||null}function on(e){return Array.isArray(e)&&"object"==typeof e[1]}function Dn(e){return Array.isArray(e)&&!0===e[1]}function $a(e){return 0!=(4&e.flags)}function qi(e){return e.componentOffset>-1}function Xo(e){return 1==(1&e.flags)}function wn(e){return null!==e.template}function I_(e){return 0!=(256&e[2])}function Ir(e,t){return e.hasOwnProperty(Qn)?e[Qn]:null}class T_{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xn(){return wd}function wd(e){return e.type.prototype.ngOnChanges&&(e.setInput=F_),A_}function A_(){const e=bd(this),t=e?.current;if(t){const n=e.previous;if(n===Zn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function F_(e,t,n,r){const i=this.declaredInputs[n],o=bd(e)||function O_(e,t){return e[Cd]=t}(e,{previous:Zn,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new T_(u&&u.currentValue,t,a===Zn),e[r]=t}Xn.ngInherit=!0;const Cd="__ngSimpleChanges__";function bd(e){return e[Cd]||null}function At(e){for(;Array.isArray(e);)e=e[0];return e}function es(e,t){return At(t[e])}function sn(e,t){return At(t[e.index])}function Md(e,t){return e.data[t]}function an(e,t){const n=t[e];return on(n)?n:n[0]}function ts(e){return 64==(64&e[2])}function hr(e,t){return null==t?null:e[t]}function Sd(e){e[18]=0}function Ga(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const ke={lFrame:Ld(null),bindingsEnabled:!0};function Ad(){return ke.bindingsEnabled}function re(){return ke.lFrame.lView}function qe(){return ke.lFrame.tView}function Cn(e){return ke.lFrame.contextLView=e,e[8]}function bn(e){return ke.lFrame.contextLView=null,e}function Ft(){let e=Fd();for(;null!==e&&64===e.type;)e=e.parent;return e}function Fd(){return ke.lFrame.currentTNode}function Ln(e,t){const n=ke.lFrame;n.currentTNode=e,n.isParent=t}function qa(){return ke.lFrame.isParent}function za(){ke.lFrame.isParent=!1}function Yr(){return ke.lFrame.bindingIndex++}function G_(e,t){const n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wa(t)}function Wa(e){ke.lFrame.currentDirectiveIndex=e}function Za(e){ke.lFrame.currentQueryIndex=e}function z_(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Rd(e,t,n){if(n&Ne.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Ne.Host||(i=z_(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=ke.lFrame=kd();return r.currentTNode=t,r.lView=e,!0}function Qa(e){const t=kd(),n=e[1];ke.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function kd(){const e=ke.lFrame,t=null===e?null:e.child;return null===t?Ld(e):t}function Ld(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Vd(){const e=ke.lFrame;return ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bd=Vd;function Ka(){const e=Vd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qt(){return ke.lFrame.selectedIndex}function Mr(e){ke.lFrame.selectedIndex=e}function ns(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=f&&(e.destroyHooks||(e.destroyHooks=[])).push(n,f)}}function rs(e,t,n){jd(e,t,3,n)}function is(e,t,n,r){(3&e[2])===n&&jd(e,t,n,r)}function Ya(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function jd(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let u=void 0!==r?65535&e[18]:0;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<o||-1==o)&&(tD(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function tD(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Wi{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function eu(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];$d(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Hd(e){return 3===e||4===e||6===e}function $d(e){return 64===e.charCodeAt(0)}function Ji(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Ud(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Ud(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Gd(e){return-1!==e}function os(e){return 32767&e}function ss(e,t){let n=function oD(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let tu=!0;function as(e){const t=tu;return tu=e,t}let sD=0;const Vn={};function us(e,t){const n=Wd(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,nu(r.data,e),nu(t,null),nu(r.blueprint,null));const i=ru(e,t),o=e.injectorIndex;if(Gd(i)){const s=os(i),a=ss(i,t),u=a[1].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|u[s+l]}return t[o+8]=i,o}function nu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wd(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ru(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=ef(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function iu(e,t,n){!function aD(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bi)&&(r=n[Bi]),null==r&&(r=n[Bi]=sD++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Jd(e,t,n){if(n&Ne.Optional||void 0!==e)return e;Uo()}function Zd(e,t,n,r){if(n&Ne.Optional&&void 0===r&&(r=null),!(n&(Ne.Self|Ne.Host))){const i=e[9],o=dn(void 0);try{return i?i.get(t,r,n&Ne.Optional):ld(t,r,n&Ne.Optional)}finally{dn(o)}}return Jd(r,0,n)}function Qd(e,t,n,r=Ne.Default,i){if(null!==e){if(1024&t[2]){const s=function fD(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Kd(o,s,n,r|Ne.Self,Vn);if(a!==Vn)return a;let u=o.parent;if(!u){const l=s[21];if(l){const f=l.get(n,Vn,r);if(f!==Vn)return f}u=ef(s),s=s[15]}o=u}return i}(e,t,n,r,Vn);if(s!==Vn)return s}const o=Kd(e,t,n,r,Vn);if(o!==Vn)return o}return Zd(t,n,r,i)}function Kd(e,t,n,r,i){const o=function cD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Bi)?e[Bi]:void 0;return"number"==typeof t?t>=0?255&t:dD:t}(n);if("function"==typeof o){if(!Rd(t,e,r))return r&Ne.Host?Jd(i,0,r):Zd(t,n,r,i);try{const s=o(r);if(null!=s||r&Ne.Optional)return s;Uo()}finally{Bd()}}else if("number"==typeof o){let s=null,a=Wd(e,t),u=-1,l=r&Ne.Host?t[16][6]:null;for((-1===a||r&Ne.SkipSelf)&&(u=-1===a?ru(e,t):t[a+8],-1!==u&&Xd(r,!1)?(s=t[1],a=os(u),t=ss(u,t)):a=-1);-1!==a;){const f=t[1];if(Yd(o,a,f.data)){const p=lD(a,t,n,s,r,l);if(p!==Vn)return p}u=t[a+8],-1!==u&&Xd(r,t[1].data[a+8]===l)&&Yd(o,a,t)?(s=f,a=os(u),t=ss(u,t)):a=-1}}return i}function lD(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],f=function ls(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,f=o>>20,D=i?a+f:e.directiveEnd;for(let C=r?a:a+f;C<D;C++){const F=s[C];if(C<u&&n===F||C>=u&&F.type===n)return C}if(i){const C=s[u];if(C&&wn(C)&&C.type===n)return u}return null}(a,s,n,null==r?qi(a)&&tu:r!=s&&0!=(3&a.type),i&Ne.Host&&o===a);return null!==f?Sr(t,s,f,a):Vn}function Sr(e,t,n,r){let i=e[n];const o=t.data;if(function nD(e){return e instanceof Wi}(i)){const s=i;s.resolving&&function s_(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new me(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Pe(e)}(o[n]));const a=as(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?dn(s.injectImpl):null;Rd(e,r,Ne.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function eD(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=wd(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&dn(u),as(a),s.resolving=!1,Bd()}}return i}function Yd(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Xd(e,t){return!(e&Ne.Self||e&Ne.Host&&t)}class ei{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Qd(this._tNode,this._lView,t,Wo(r),n)}}function dD(){return new ei(Ft(),re())}function Rt(e){return fr(()=>{const t=e.prototype.constructor,n=t[Qn]||ou(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Qn]||ou(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ou(e){return Na(e)?()=>{const t=ou(Fe(e));return t&&t()}:Ir(e)}function ef(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const ni="__parameters__";function ii(e,t,n){return fr(()=>{const r=function au(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,f){const p=u.hasOwnProperty(ni)?u[ni]:Object.defineProperty(u,ni,{value:[]})[ni];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Se{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tr(e,t){e.forEach(n=>Array.isArray(n)?Tr(n,t):t(n))}function nf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function cs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function un(e,t,n){let r=oi(e,t);return r>=0?e[1|r]=n:(r=~r,function mD(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function lu(e,t){const n=oi(e,t);if(n>=0)return e[1|n]}function oi(e,t){return function rf(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const fs=Vi(ii("Optional"),8),hs=Vi(ii("SkipSelf"),4);var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();const gu=new Map;let VD=0;const yu="__ngContext__";function kt(e,t){on(t)?(e[yu]=t[20],function jD(e){gu.set(e[20],e)}(t)):e[yu]=t}function _u(e,t){return undefined(e,t)}function to(e){const t=e[3];return Dn(t)?t[3]:t}function Du(e){return Ef(e[13])}function wu(e){return Ef(e[4])}function Ef(e){for(;null!==e&&!Dn(e);)e=e[4];return e}function ai(e,t,n,r,i){if(null!=r){let o,s=!1;Dn(r)?o=r:on(r)&&(s=!0,r=r[0]);const a=At(r);0===e&&null!==n?null==i?Ff(t,n,a):Ar(t,n,a,i||null,!0):1===e&&null!==n?Ar(t,n,a,i||null,!0):2===e?function Tu(e,t,n){const r=ms(e,t);r&&function sw(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function lw(e,t,n,r,i){const o=n[7];o!==At(n)&&ai(t,e,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];no(u[1],u,e,t,r,o)}}(t,e,o,n,i)}}function bu(e,t,n){return e.createElement(t,n)}function Mf(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,Ga(i,-1)),n.splice(r,1)}function Eu(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Mf(i,r),t>0&&(e[n-1][4]=r[4]);const o=cs(e,10+t);!function YD(e,t){no(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Sf(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&no(e,t,n,3,null,null),function tw(e){let t=e[13];if(!t)return Iu(e[1],e);for(;t;){let n=null;if(on(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)on(t)&&Iu(t[1],t),t=t[3];null===t&&(t=e),on(t)&&Iu(t[1],t),n=t&&t[4]}t=n}}(t)}}function Iu(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ow(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Wi)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function iw(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Dn(t[3])){n!==t[3]&&Mf(n,t);const r=t[19];null!==r&&r.detachView(e)}!function HD(e){gu.delete(e[20])}(t)}}function Tf(e,t,n){return function Af(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Rn.None||o===Rn.Emulated)return null}return sn(r,n)}}(e,t.parent,n)}function Ar(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ff(e,t,n){e.appendChild(t,n)}function Of(e,t,n,r,i){null!==r?Ar(e,t,n,r,i):Ff(e,t,n)}function ms(e,t){return e.parentNode(t)}let Ou,Pf=function xf(e,t,n){return 40&e.type?sn(e,n):null};function ys(e,t,n,r){const i=Tf(e,r,t),o=t[11],a=function Nf(e,t,n){return Pf(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Of(o,i,n[u],a,!1);else Of(o,i,n,a,!1)}function vs(e,t){if(null!==t){const n=t.type;if(3&n)return sn(t,e);if(4&n)return Su(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return vs(e,r);{const i=e[t.index];return Dn(i)?Su(-1,i):At(i)}}if(32&n)return _u(t,e)()||At(e[t.index]);{const r=kf(e,t);return null!==r?Array.isArray(r)?r[0]:vs(to(e[16]),r):vs(e,t.next)}}return null}function kf(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Su(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return vs(r,i)}return t[7]}function Au(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&kt(At(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Au(e,t,n.child,r,i,o,!1),ai(t,e,i,a,o);else if(32&u){const l=_u(n,r);let f;for(;f=l();)ai(t,e,i,f,o);ai(t,e,i,a,o)}else 16&u?Lf(e,t,r,n,i,o):ai(t,e,i,a,o);n=s?n.projectionNext:n.next}}function no(e,t,n,r,i,o){Au(n,r,e.firstChild,t,i,o,!1)}function Lf(e,t,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ai(t,e,i,u[l],o);else Au(e,t,u,s[3],i,o,!0)}function Vf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Bf(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&eu(e,t,r),null!==i&&Vf(e,t,i),null!==o&&function dw(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class Gf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Xf=new Se("ENVIRONMENT_INITIALIZER"),eh=new Se("INJECTOR",-1),th=new Se("INJECTOR_DEF_TYPES");class nh{get(t,n=ki){if(n===ki){const r=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw r.name="NullInjectorError",r}return n}}function jw(...e){return{\u0275providers:rh(0,e),\u0275fromNgModule:!0}}function rh(e,...t){const n=[],r=new Set;let i;return Tr(t,o=>{const s=o;Lu(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&ih(i,n),n}function ih(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];Vu(i,o=>{t.push(o)})}}function Lu(e,t,n,r){if(!(e=Fe(e)))return!1;let i=null,o=ad(e);const s=!o&&Ye(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const u=e.ngModule;if(o=ad(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)Lu(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Tr(o.imports,f=>{Lu(f,t,n,r)&&(l||(l=[]),l.push(f))})}finally{}void 0!==l&&ih(l,t)}if(!a){const l=Ir(i)||(()=>new i);t.push({provide:i,useFactory:l,deps:Ze},{provide:th,useValue:i,multi:!0},{provide:Xf,useValue:()=>Ue(i),multi:!0})}const u=o.providers;null==u||a||Vu(u,f=>{t.push(f)})}}return i!==e&&void 0!==e.providers}function Vu(e,t){for(let n of e)xa(n)&&(n=n.\u0275providers),Array.isArray(n)?Vu(n,t):t(n)}const Hw=tt({provide:String,useValue:tt});function Bu(e){return null!==e&&"object"==typeof e&&Hw in e}function Or(e){return"function"==typeof e}const ju=new Se("Set Injector scope."),Cs={},Uw={};let Hu;function bs(){return void 0===Hu&&(Hu=new nh),Hu}class Nr{}class ah extends Nr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uu(t,s=>this.processProvider(s)),this.records.set(eh,ui(void 0,this)),i.has("environment")&&this.records.set(Nr,ui(void 0,this));const o=this.records.get(ju);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(th.multi,Ze,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=qr(this),r=dn(void 0);try{return t()}finally{qr(n),dn(r)}}get(t,n=ki,r=Ne.Default){this.assertNotDestroyed(),r=Wo(r);const i=qr(this),o=dn(void 0);try{if(!(r&Ne.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function Jw(e){return"function"==typeof e||"object"==typeof e&&e instanceof Se}(t)&&Go(t);a=u&&this.injectableDefInScope(u)?ui($u(t),Cs):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Ne.Self?bs():this.parent).get(t,n=r&Ne.Optional&&n===ki?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[zo]=s[zo]||[]).unshift(rt(t)),i)throw s;return function D_(e,t,n,r){const i=e[zo];throw t[cd]&&i.unshift(t[cd]),e.message=function w_(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=rt(t);if(Array.isArray(t))i=t.map(rt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):rt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(m_,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[zo]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{dn(o),qr(i)}}resolveInjectorInitializers(){const t=qr(this),n=dn(void 0);try{const r=this.get(Xf.multi,Ze,Ne.Self);for(const i of r)i()}finally{qr(t),dn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(rt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(t){let n=Or(t=Fe(t))?t:Fe(t&&t.provide);const r=function qw(e){return Bu(e)?ui(void 0,e.useValue):ui(uh(e),Cs)}(t);if(Or(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ui(void 0,Cs,!0),i.factory=()=>La(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Cs&&(n.value=Uw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Ww(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Fe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function $u(e){const t=Go(e),n=null!==t?t.factory:Ir(e);if(null!==n)return n;if(e instanceof Se)throw new me(204,!1);if(e instanceof Function)return function Gw(e){const t=e.length;if(t>0)throw function Ki(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new me(204,!1);const n=function d_(e){const t=e&&(e[qo]||e[ud]);if(t){const n=function f_(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new me(204,!1)}function uh(e,t,n){let r;if(Or(e)){const i=Fe(e);return Ir(i)||$u(i)}if(Bu(e))r=()=>Fe(e.useValue);else if(function sh(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...La(e.deps||[]));else if(function oh(e){return!(!e||!e.useExisting)}(e))r=()=>Ue(Fe(e.useExisting));else{const i=Fe(e&&(e.useClass||e.provide));if(!function zw(e){return!!e.deps}(e))return Ir(i)||$u(i);r=()=>new i(...La(e.deps))}return r}function ui(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Uu(e,t){for(const n of e)Array.isArray(n)?Uu(n,t):n&&xa(n)?Uu(n.\u0275providers,t):t(n)}class Zw{}class lh{}class Kw{resolveComponentFactory(t){throw function Qw(e){const t=Error(`No component factory found for ${rt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Es=(()=>{class e{}return e.NULL=new Kw,e})();function Yw(){return li(Ft(),re())}function li(e,t){return new En(sn(e,t))}let En=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Yw,e})();class dh{}let xr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function eC(){const e=re(),n=an(Ft().index,e);return(on(n)?n:e)[11]}(),e})(),tC=(()=>{class e{}return e.\u0275prov=Xe({token:e,providedIn:"root",factory:()=>null}),e})();class Is{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nC=new Is("15.1.5"),Gu={};function zu(e){return e.ngOriginalError}class ci{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&zu(t);for(;n&&zu(n);)n=zu(n);return n||null}}function hh(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const ph="ng-template";function hC(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==hh(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function gh(e){return 4===e.type&&e.value!==ph}function pC(e,t,n){return t===(4!==e.type||n?e.value:ph)}function gC(e,t,n){let r=4;const i=e.attrs||[],o=function vC(e){for(let t=0;t<e.length;t++)if(Hd(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!pC(e,u,n)||""===u&&1===t.length){if(In(r))return!1;s=!0}}else{const l=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!hC(e.attrs,l,n)){if(In(r))return!1;s=!0}continue}const p=mC(8&r?"class":u,i,gh(e),n);if(-1===p){if(In(r))return!1;s=!0;continue}if(""!==l){let D;D=p>o?"":i[p+1].toLowerCase();const C=8&r?D:null;if(C&&-1!==hh(C,l,0)||2&r&&l!==D){if(In(r))return!1;s=!0}}}}else{if(!s&&!In(r)&&!In(u))return!1;if(s&&In(u))continue;s=!1,r=u|1&r}}return In(r)||s}function In(e){return 0==(1&e)}function mC(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function _C(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function mh(e,t,n=!1){for(let r=0;r<t.length;r++)if(gC(e,t[r],n))return!0;return!1}function yh(e,t){return e?":not("+t.trim()+")":t}function wC(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!In(s)&&(t+=yh(o,i),i=""),r=s,o=o||!In(r);n++}return""!==i&&(t+=yh(o,i)),t}const Le={};function Bn(e){vh(qe(),re(),qt()+e,!1)}function vh(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&rs(t,o,n)}else{const o=e.preOrderHooks;null!==o&&is(t,o,0,n)}Mr(n)}function Ch(e,t=null,n=null,r){const i=bh(e,t,n,r);return i.resolveInjectorInitializers(),i}function bh(e,t=null,n=null,r,i=new Set){const o=[n||Ze,jw(e)];return r=r||("object"==typeof e?void 0:rt(e)),new ah(o,t||bs(),r||null,i)}let gr=(()=>{class e{static create(n,r){if(Array.isArray(n))return Ch({name:""},r,n,"");{const i=n.name??"";return Ch({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=ki,e.NULL=new nh,e.\u0275prov=Xe({token:e,providedIn:"any",factory:()=>Ue(eh)}),e.__NG_ELEMENT_ID__=-1,e})();function fe(e,t=Ne.Default){const n=re();return null===n?Ue(e,t):Qd(Ft(),n,Fe(e),t)}function Fh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];Za(n[r]),s.contentQueries(2,t[o],o)}}}function Ss(e,t,n,r,i,o,s,a,u,l,f){const p=t.blueprint.slice();return p[0]=i,p[2]=76|r,(null!==f||e&&1024&e[2])&&(p[2]|=1024),Sd(p),p[3]=p[15]=e,p[8]=n,p[10]=s||e&&e[10],p[11]=a||e&&e[11],p[12]=u||e&&e[12]||null,p[9]=l||e&&e[9]||null,p[6]=o,p[20]=function BD(){return VD++}(),p[21]=f,p[16]=2==t.type?e[16]:p,p}function hi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Ku(e,t,n,r,i){const o=Fd(),s=qa(),u=e.data[t]=function JC(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(e,t,n,r,i),function U_(){return ke.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function zi(){const e=ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ln(o,!0),o}function so(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Yu(e,t,n){Qa(t);try{const r=e.viewQuery;null!==r&&ul(1,r,n);const i=e.template;null!==i&&Oh(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Fh(e,t),e.staticViewQueries&&ul(2,e.viewQuery,n);const o=e.components;null!==o&&function qC(e,t){for(let n=0;n<t.length;n++)hb(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ka()}}function Ts(e,t,n,r){const i=t[2];if(128!=(128&i)){Qa(t);try{Sd(t),function Nd(e){return ke.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Oh(e,t,n,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&rs(t,l,null)}else{const l=e.preOrderHooks;null!==l&&is(t,l,0,null),Ya(t,0)}if(function db(e){for(let t=Du(e);null!==t;t=wu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Ga(i[3],1),i[2]|=512}}}(t),function cb(e){for(let t=Du(e);null!==t;t=wu(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];ts(r)&&Ts(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Fh(e,t),s){const l=e.contentCheckHooks;null!==l&&rs(t,l)}else{const l=e.contentHooks;null!==l&&is(t,l,1),Ya(t,1)}!function UC(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Mr(~i);else{const o=i,s=n[++r],a=n[++r];G_(s,o),a(2,t[o])}}}finally{Mr(-1)}}(e,t);const a=e.components;null!==a&&function GC(e,t){for(let n=0;n<t.length;n++)fb(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&ul(2,u,r),s){const l=e.viewCheckHooks;null!==l&&rs(t,l)}else{const l=e.viewHooks;null!==l&&is(t,l,2),Ya(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Ga(t[3],-1))}finally{Ka()}}}function Oh(e,t,n,r,i){const o=qt(),s=2&r;try{Mr(-1),s&&t.length>22&&vh(e,t,22,!1),n(r,i)}finally{Mr(o)}}function Xu(e,t,n){if($a(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function el(e,t,n){Ad()&&(function eb(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;qi(n)&&function ab(e,t,n){const r=sn(t,e),i=Nh(n),o=e[10],s=As(e,Ss(e,i,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||us(n,t),kt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],l=Sr(t,e,a,n);kt(l,t),null!==s&&ub(0,a-i,l,u,0,s),wn(u)&&(an(n.index,t)[8]=Sr(t,e,a,n))}}(e,t,n,sn(n,t)),64==(64&n.flags)&&Vh(e,t,n))}function tl(e,t,n=sn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Nh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function nl(e,t,n,r,i,o,s,a,u,l){const f=22+r,p=f+i,D=function zC(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Le);return n}(f,p),C="function"==typeof l?l():l;return D[1]={type:e,blueprint:D,template:n,queries:null,viewQuery:a,declTNode:t,data:D.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1}}function Ph(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?Rh(n,t,i,o):r.hasOwnProperty(i)&&Rh(n,t,r[i],o)}return n}function Rh(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function kh(e,t){const n=an(t,e);16&n[2]||(n[2]|=32)}function rl(e,t,n,r){let i=!1;if(Ad()){const o=null===r?null:{"":-1},s=function nb(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(mh(t,s.selectors,!1))if(r||(r=[]),wn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),il(e,t,a.length)}else r.unshift(s),il(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(i=!0,Lh(e,t,n,a,o,u)),o&&function rb(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new me(-301,!1);r.push(t[i],o)}}}(n,r,o)}return n.mergedAttrs=Ji(n.mergedAttrs,n.attrs),i}function Lh(e,t,n,r,i,o){for(let l=0;l<r.length;l++)iu(us(n,t),e,r[l].type);!function ob(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,u=so(e,t,r.length,null);for(let l=0;l<r.length;l++){const f=r[l];n.mergedAttrs=Ji(n.mergedAttrs,f.hostAttrs),sb(e,n,t,u,f),ib(u,f,i),null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function ZC(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let u=null,l=null;for(let f=t.directiveStart;f<i;f++){const p=o[f],D=n?n.get(p):null,F=D?D.outputs:null;u=Ph(p.inputs,f,u,D?D.inputs:null),l=Ph(p.outputs,f,l,F);const Q=null===u||null===s||gh(t)?null:lb(u,f,s);a.push(Q)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=l}(e,n,o)}function Vh(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function q_(){return ke.lFrame.currentDirectiveIndex}();try{Mr(o);for(let a=r;a<i;a++){const u=e.data[a],l=t[a];Wa(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&tb(u,l)}}finally{Mr(-1),Wa(s)}}function tb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function il(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function ib(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;wn(t)&&(n[""]=e)}}function sb(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ir(i.type)),s=new Wi(o,wn(i),fe);e.blueprint[r]=s,n[r]=s,function YC(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function XC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,so(e,n,i.hostVars,Le),i)}function ub(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const l=s[u++],f=s[u++],p=s[u++];null!==a?r.setInput(n,p,l,f):n[f]=p}}}function lb(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Bh(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function fb(e,t){const n=an(t,e);if(ts(n)){const r=n[1];48&n[2]?Ts(r,n,r.template,n[8]):n[5]>0&&sl(n)}}function sl(e){for(let r=Du(e);null!==r;r=wu(r))for(let i=10;i<r.length;i++){const o=r[i];if(ts(o))if(512&o[2]){const s=o[1];Ts(s,o,s.template,o[8])}else o[5]>0&&sl(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=an(n[r],e);ts(i)&&i[5]>0&&sl(i)}}function hb(e,t){const n=an(t,e),r=n[1];(function pb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Yu(r,n,n[8])}function As(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function al(e){for(;e;){e[2]|=32;const t=to(e);if(I_(e)&&!t)return e;e=t}return null}function Fs(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{Ts(e,t,e.template,n)}catch(s){throw r&&Uh(t,s),s}finally{i.end&&i.end()}}function ul(e,t,n){Za(0),t(e,n)}function jh(e){return e[7]||(e[7]=[])}function Hh(e){return e.cleanup||(e.cleanup=[])}function Uh(e,t){const n=e[9],r=n?n.get(ci,null):null;r&&r.handleError(t)}function ll(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=t[s],l=e.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Os(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Oa(i,a):2==o&&(r=Oa(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ns(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(At(o)),Dn(o))for(let a=10;a<o.length;a++){const u=o[a],l=u[1].firstChild;null!==l&&Ns(u[1],u,l,r)}const s=n.type;if(8&s)Ns(e,t,n.child,r);else if(32&s){const a=_u(n,t);let u;for(;u=a();)r.push(u)}else if(16&s){const a=kf(t,n);if(Array.isArray(a))r.push(...a);else{const u=to(t[16]);Ns(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ao{get rootNodes(){const t=this._lView,n=t[1];return Ns(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Dn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Eu(t,r),cs(n,r))}this._attachedToViewContainer=!1}Sf(this._lView[1],this._lView)}onDestroy(t){!function xh(e,t,n,r){const i=jh(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Hh(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){al(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Fs(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ew(e,t){no(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=t}}class gb extends ao{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Fs(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Gh extends Es{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ye(t);return new uo(n,this.ngModule)}}function qh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class yb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Wo(r);const i=this.injector.get(t,Gu,r);return i!==Gu||n===Gu?i:this.parentInjector.get(t,n,r)}}class uo extends lh{get inputs(){return qh(this.componentDef.inputs)}get outputs(){return qh(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function CC(e){return e.map(wC).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Nr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new yb(t,o):t,a=s.get(dh,null);if(null===a)throw new me(407,!1);const u=s.get(tC,null),l=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function WC(e,t,n){return e.selectRootElement(t,n===Rn.ShadowDom)}(l,r,this.componentDef.encapsulation):bu(l,f,function mb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),D=this.componentDef.onPush?288:272,C=nl(0,null,null,1,0,null,null,null,null,null),F=Ss(null,C,null,D,null,null,a,l,u,s,null);let Q,ae;Qa(F);try{const oe=this.componentDef;let ve,te=null;oe.findHostDirectiveDefs?(ve=[],te=new Map,oe.findHostDirectiveDefs(oe,ve,te),ve.push(oe)):ve=[oe];const Ae=function _b(e,t){const n=e[1];return e[22]=t,hi(n,22,2,"#host",null)}(F,p),nt=function Db(e,t,n,r,i,o,s,a){const u=i[1];!function wb(e,t,n,r){for(const i of e)t.mergedAttrs=Ji(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Os(t,t.mergedAttrs,!0),null!==n&&Bf(r,n,t))}(r,e,t,s);const l=o.createRenderer(t,n),f=Ss(i,Nh(n),null,n.onPush?32:16,i[e.index],e,o,l,a||null,null,null);return u.firstCreatePass&&il(u,e,r.length-1),As(i,f),i[e.index]=f}(Ae,p,oe,ve,F,a,l);ae=Md(C,22),p&&function bb(e,t,n,r){if(r)eu(e,n,["ng-version",nC.full]);else{const{attrs:i,classes:o}=function bC(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!In(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&eu(e,n,i),o&&o.length>0&&Vf(e,n,o.join(" "))}}(l,oe,p,r),void 0!==n&&function Eb(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(ae,this.ngContentSelectors,n),Q=function Cb(e,t,n,r,i,o){const s=Ft(),a=i[1],u=sn(s,i);Lh(a,i,s,n,null,r);for(let f=0;f<n.length;f++)kt(Sr(i,a,s.directiveStart+f,s),i);Vh(a,i,s),u&&kt(u,i);const l=Sr(i,a,s.directiveStart+s.componentOffset,s);if(e[8]=i[8]=l,null!==o)for(const f of o)f(l,t);return Xu(a,s,e),l}(nt,oe,ve,te,F,[Ib]),Yu(C,F,null)}finally{Ka()}return new vb(this.componentType,Q,li(ae,F),F,ae)}}class vb extends Zw{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new gb(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;ll(o[1],o,i,t,n),kh(o,this._tNode.index)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Ib(){const e=Ft();ns(re()[1],e)}function et(e){let t=function zh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(wn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new me(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=cl(e.inputs),s.declaredInputs=cl(e.declaredInputs),s.outputs=cl(e.outputs);const a=i.hostBindings;a&&Ab(e,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Sb(e,u),l&&Tb(e,l),Fa(e.inputs,i.inputs),Fa(e.declaredInputs,i.declaredInputs),Fa(e.outputs,i.outputs),wn(i)&&i.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===et&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Mb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ji(i.hostAttrs,n=Ji(n,i.hostAttrs))}}(r)}function cl(e){return e===Zn?{}:e===Ze?[]:e}function Sb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function Tb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function Ab(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let xs=null;function Pr(){if(!xs){const e=ot.Symbol;if(e&&e.iterator)xs=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(xs=r)}}}return xs}function Ps(e){return!!function dl(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Pr()in e)}function Lt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function bi(e,t,n,r,i,o,s,a){const u=re(),l=qe(),f=e+22,p=l.firstCreatePass?function Bb(e,t,n,r,i,o,s,a,u){const l=t.consts,f=hi(t,e,4,s||null,hr(l,a));rl(t,n,f,hr(l,u)),ns(t,f);const p=f.tViews=nl(2,f,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,l,u,t,n,r,i,o,s):l.data[f];Ln(p,!1);const D=u[11].createComment("");ys(l,u,D,p),kt(D,u),As(u,u[f]=Bh(D,u,D,p)),Xo(p)&&el(l,u,p),null!=s&&tl(u,p,a)}function Mn(e,t,n){const r=re();return Lt(r,Yr(),t)&&function ln(e,t,n,r,i,o,s,a){const u=sn(t,n);let f,l=t.inputs;!a&&null!=l&&(f=l[r])?(ll(e,n,f,r,i),qi(t)&&kh(n,t.index)):3&t.type&&(r=function QC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(u,r,i))}(qe(),function ct(){const e=ke.lFrame;return Md(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),Mn}function fl(e,t,n,r,i){const s=i?"class":"style";ll(e,n,t.inputs[s],s,r)}function Dt(e,t,n,r){const i=re(),o=qe(),s=22+e,a=i[11],u=i[s]=bu(a,t,function X_(){return ke.lFrame.currentNamespace}()),l=o.firstCreatePass?function $b(e,t,n,r,i,o,s){const a=t.consts,l=hi(t,e,2,i,hr(a,o));return rl(t,n,l,hr(a,s)),null!==l.attrs&&Os(l,l.attrs,!1),null!==l.mergedAttrs&&Os(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,0,t,n,r):o.data[s];return Ln(l,!0),Bf(a,u,l),32!=(32&l.flags)&&ys(o,i,u,l),0===function L_(){return ke.lFrame.elementDepthCount}()&&kt(u,i),function V_(){ke.lFrame.elementDepthCount++}(),Xo(l)&&(el(o,i,l),Xu(o,l,i)),null!==r&&tl(i,l),Dt}function Ot(){let e=Ft();qa()?za():(e=e.parent,Ln(e,!1));const t=e;!function B_(){ke.lFrame.elementDepthCount--}();const n=qe();return n.firstCreatePass&&(ns(n,e),$a(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function rD(e){return 0!=(8&e.flags)}(t)&&fl(n,t,re(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function iD(e){return 0!=(16&e.flags)}(t)&&fl(n,t,re(),t.stylesWithoutHost,!1),Ot}function ks(e,t,n,r){return Dt(e,t,n,r),Ot(),ks}function co(e,t,n){const r=re(),i=qe(),o=e+22,s=i.firstCreatePass?function Ub(e,t,n,r,i){const o=t.consts,s=hr(o,r),a=hi(t,e,8,"ng-container",s);return null!==s&&Os(a,s,!0),rl(t,n,a,hr(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Ln(s,!0);const a=r[o]=r[11].createComment("");return ys(i,r,a,s),kt(a,r),Xo(s)&&(el(i,r,s),Xu(i,s,r)),null!=n&&tl(r,s),co}function fo(){let e=Ft();const t=qe();return qa()?za():(e=e.parent,Ln(e,!1)),t.firstCreatePass&&(ns(t,e),$a(e)&&t.queries.elementEnd(e)),fo}function Ei(){return re()}function Ls(e){return!!e&&"function"==typeof e.then}const ap=function sp(e){return!!e&&"function"==typeof e.subscribe};function ht(e,t,n,r){const i=re(),o=qe(),s=Ft();return function lp(e,t,n,r,i,o,s){const a=Xo(r),l=e.firstCreatePass&&Hh(e),f=t[8],p=jh(t);let D=!0;if(3&r.type||s){const Q=sn(r,t),ae=s?s(Q):Q,oe=p.length,ve=s?Ae=>s(At(Ae[r.index])):r.index;let te=null;if(!s&&a&&(te=function Gb(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==te)(te.__ngLastListenerFn__||te).__ngNextListenerFn__=o,te.__ngLastListenerFn__=o,D=!1;else{o=dp(r,t,f,o,!1);const Ae=n.listen(ae,i,o);p.push(o,Ae),l&&l.push(i,ve,oe,oe+1)}}else o=dp(r,t,f,o,!1);const C=r.outputs;let F;if(D&&null!==C&&(F=C[i])){const Q=F.length;if(Q)for(let ae=0;ae<Q;ae+=2){const nt=t[F[ae]][F[ae+1]].subscribe(o),vt=p.length;p.push(o,nt),l&&l.push(i,r.index,vt,-(vt+1))}}}(o,i,i[11],s,e,t,r),ht}function cp(e,t,n,r){try{return!1!==n(r)}catch(i){return Uh(e,i),!1}}function dp(e,t,n,r,i){return function o(s){if(s===Function)return r;al(e.componentOffset>-1?an(e.index,t):t);let u=cp(t,0,r,s),l=o.__ngNextListenerFn__;for(;l;)u=cp(t,0,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Yt(e=1){return function W_(e){return(ke.lFrame.contextLView=function J_(e,t){for(;e>0;)t=t[15],e--;return t}(e,ke.lFrame.contextLView))[8]}(e)}function Vs(e,t){return e<<17|t<<2}function mr(e){return e>>17&32767}function pl(e){return 2|e}function kr(e){return(131068&e)>>2}function gl(e,t){return-131069&e|t<<2}function ml(e){return 1|e}function wp(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?mr(o):kr(o),u=!1;for(;0!==a&&(!1===u||s);){const f=e[a+1];Xb(e[a],t)&&(u=!0,e[a+1]=r?ml(f):pl(f)),a=r?mr(f):kr(f)}u&&(e[n+1]=r?pl(o):ml(o))}function Xb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&oi(e,t)>=0}function Bs(e,t){return function Sn(e,t,n,r){const i=re(),o=qe(),s=function tr(e){const t=ke.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function Fp(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[qt()],s=function Ap(e,t){return t>=e.expandoStartIndex}(e,n);(function Pp(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function uE(e,t,n,r){const i=function Ja(e){const t=ke.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ho(n=yl(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=yl(i,e,t,n,r),null===o){let u=function lE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==kr(r))return e[mr(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=yl(null,e,t,u[1],r),u=ho(u,t.attrs,r),function cE(e,t,n,r){e[mr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else o=function dE(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ho(r,e[o].hostAttrs,n);return ho(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function Kb(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=mr(s),u=kr(s);e[r]=n;let f,l=!1;if(Array.isArray(n)?(f=n[1],(null===f||oi(n,f)>0)&&(l=!0)):f=n,i)if(0!==u){const D=mr(e[a+1]);e[r+1]=Vs(D,a),0!==D&&(e[D+1]=gl(e[D+1],r)),e[a+1]=function Zb(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Vs(a,0),0!==a&&(e[a+1]=gl(e[a+1],r)),a=r;else e[r+1]=Vs(u,0),0===a?a=r:e[u+1]=gl(e[u+1],r),u=r;l&&(e[r+1]=pl(e[r+1])),wp(e,f,r,!0),wp(e,f,r,!1),function Yb(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&oi(o,t)>=0&&(n[r+1]=ml(n[r+1]))}(t,f,e,r,o),s=Vs(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==Le&&Lt(i,s,t)&&function Np(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const u=e.data,l=u[a+1],f=function Qb(e){return 1==(1&e)}(l)?xp(u,t,n,i,kr(l),s):void 0;js(f)||(js(o)||function Jb(e){return 2==(2&e)}(l)&&(o=xp(u,null,n,i,a,s)),function cw(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Qt.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qt.Important),e.setStyle(n,r,i,o))}}(r,s,es(qt(),n),i,o))}(o,o.data[qt()],i,i[11],e,i[s+1]=function pE(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=rt(function pr(e){return e instanceof Gf?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,s)}(e,t,null,!0),Bs}function yl(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=ho(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ho(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),un(e,s,!!n||t[++o]))}return void 0===e?null:e}function xp(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const u=e[i],l=Array.isArray(u),f=l?u[1]:u,p=null===f;let D=n[i+1];D===Le&&(D=p?Ze:void 0);let C=p?lu(D,r):f===r?D:void 0;if(l&&!js(C)&&(C=lu(u,r)),js(C)&&(a=C,s))return a;const F=e[i+1];i=s?mr(F):kr(F)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(a=lu(u,r))}return a}function js(e){return void 0!==e}function An(e,t=""){const n=re(),r=qe(),i=e+22,o=r.firstCreatePass?hi(r,i,1,t,null):r.data[i],s=n[i]=function Cu(e,t){return e.createText(t)}(n[11],t);ys(r,n,s,o),Ln(o,!1)}function Hs(e,t,n){const r=re(),i=function gi(e,t,n,r){return Lt(e,Yr(),n)?t+Pe(n)+r:Le}(r,e,t,n);return i!==Le&&function ir(e,t,n){const r=es(t,e);!function If(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,qt(),i),Hs}const Si="en-US";let rg=Si;function Dl(e,t,n,r,i){if(e=Fe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Dl(e[o],t,n,r,i);else{const o=qe(),s=re();let a=Or(e)?e:Fe(e.provide),u=uh(e);const l=Ft(),f=1048575&l.providerIndexes,p=l.directiveStart,D=l.providerIndexes>>20;if(Or(e)||!e.multi){const C=new Wi(u,i,fe),F=Cl(a,t,i?f:f+D,p);-1===F?(iu(us(l,s),o,a),wl(o,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(C),s.push(C)):(n[F]=C,s[F]=C)}else{const C=Cl(a,t,f+D,p),F=Cl(a,t,f,f+D),ae=F>=0&&n[F];if(i&&!ae||!i&&!(C>=0&&n[C])){iu(us(l,s),o,a);const oe=function NI(e,t,n,r,i){const o=new Wi(e,n,fe);return o.multi=[],o.index=t,o.componentProviders=0,Tg(o,i,r&&!n),o}(i?OI:FI,n.length,i,r,u);!i&&ae&&(n[F].providerFactory=oe),wl(o,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(oe),s.push(oe)}else wl(o,e,C>-1?C:F,Tg(n[i?F:C],u,!i&&r));!i&&r&&ae&&n[F].componentProviders++}}}function wl(e,t,n,r){const i=Or(t),o=function $w(e){return!!e.useClass}(t);if(i||o){const u=(o?Fe(t.useClass):t).prototype.ngOnDestroy;if(u){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const f=l.indexOf(n);-1===f?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function Tg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function FI(e,t,n,r){return bl(this.multi,[])}function OI(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Sr(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),bl(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],bl(i,o);return o}function bl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ut(e,t=[]){return n=>{n.providersResolver=(r,i)=>function AI(e,t,n){const r=qe();if(r.firstCreatePass){const i=wn(e);Dl(n,r.data,r.blueprint,i,!0),Dl(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Ti{}class xI{}class Ag extends Ti{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gh(this);const r=function rn(e,t){const n=e[fd]||null;if(!n&&!0===t)throw new Error(`Type ${rt(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function rr(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=bh(t,n,[{provide:Ti,useValue:this},{provide:Es,useValue:this.componentFactoryResolver}],rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class El extends xI{constructor(t){super(),this.moduleType=t}create(t){return new Ag(this.moduleType,t)}}function Ml(e){return t=>{setTimeout(e,void 0,t)}}const Vt=class c0 extends ue{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Ml(o),i&&(i=Ml(i)),s&&(s=Ml(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Z&&t.add(a),a}};let sr=(()=>{class e{}return e.__NG_ELEMENT_ID__=p0,e})();const f0=sr,h0=class extends f0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=Ss(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Yu(r,i,t),new ao(i)}};function p0(){return function zs(e,t){return 4&e.type?new h0(t,e,li(e,t)):null}(Ft(),re())}let Gn=(()=>{class e{}return e.__NG_ELEMENT_ID__=g0,e})();function g0(){return function Gg(e,t){let n;const r=t[e.index];if(Dn(r))n=r;else{let i;if(8&e.type)i=At(r);else{const o=t[11];i=o.createComment("");const s=sn(e,t);Ar(o,ms(o,s),i,function aw(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=Bh(r,t,i,e),As(t,n)}return new $g(n,e,t)}(Ft(),re())}const m0=Gn,$g=class extends m0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return li(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){const t=ru(this._hostTNode,this._hostLView);if(Gd(t)){const n=ss(t,this._hostLView),r=os(t);return new ei(n[1].data[r+8],n)}return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Ug(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(t,n,r,i,o){const s=t&&!function Qi(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const u=s?t:new uo(Ye(t)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const D=(s?l:this.parentInjector).get(Nr,null);D&&(o=D)}const f=u.create(l,i,void 0,o);return this.insert(f.hostView,a),f}insert(t,n){const r=t._lView,i=r[1];if(function k_(e){return Dn(e[3])}(r)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const p=r[3],D=new $g(p,p[6],p[3]);D.detach(D.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function nw(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],nf(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function rw(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(i,r,s,o);const a=Su(o,s),u=r[11],l=ms(u,s[7]);return null!==l&&function XD(e,t,n,r,i,o){r[0]=i,r[6]=t,no(e,r,n,1,i,o)}(i,s[6],u,r,l,a),t.attachToViewContainerRef(),nf(Tl(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Ug(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Eu(this._lContainer,n);r&&(cs(Tl(this._lContainer),n),Sf(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Eu(this._lContainer,n);return r&&null!=cs(Tl(this._lContainer),n)?new ao(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ug(e){return e[8]}function Tl(e){return e[8]||(e[8]=[])}function Js(...e){}const pm=new Se("Application Initializer");let Zs=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Js,this.reject=Js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Ls(o))n.push(o);else if(ap(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ue(pm,8))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Co=new Se("AppId",{providedIn:"root",factory:function gm(){return`${Vl()}${Vl()}${Vl()}`}});function Vl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mm=new Se("Platform Initializer"),Bl=new Se("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W0=new Se("appBootstrapListener"),ar=new Se("LocaleId",{providedIn:"root",factory:()=>zr(ar,Ne.Optional|Ne.SkipSelf)||function J0(){return typeof $localize<"u"&&$localize.locale||Si}()}),X0=(()=>Promise.resolve(0))();function jl(e){typeof Zone>"u"?X0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Bt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function eM(){let e=ot.requestAnimationFrame,t=ot.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function rM(e){const t=()=>{!function nM(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ot,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,$l(e),e.isCheckStableRunning=!0,Hl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),$l(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return _m(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Dm(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return _m(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dm(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,$l(e),Hl(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bt.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Bt.isInAngularZone())throw new me(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,tM,Js,Js);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const tM={};function Hl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $l(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _m(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dm(e){e._nesting--,Hl(e)}class iM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vt,this.onMicrotaskEmpty=new Vt,this.onStable=new Vt,this.onError=new Vt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const wm=new Se(""),Qs=new Se("");let ql,Ul=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ql||(function oM(e){ql=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bt.assertNotInAngularZone(),jl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jl(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bt),Ue(Gl),Ue(Qs))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})(),Gl=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ql?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),yr=null;const Cm=new Se("AllowMultipleToken"),zl=new Se("PlatformDestroyListeners");function Em(e,t,n=[]){const r=`Platform: ${t}`,i=new Se(r);return(o=[])=>{let s=Wl();if(!s||s.injector.get(Cm,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function uM(e){if(yr&&!yr.get(Cm,!1))throw new me(400,!1);yr=e;const t=e.get(Mm);(function bm(e){const t=e.get(mm,null);t&&t.forEach(n=>n())})(e)}(function Im(e=[],t){return gr.create({name:t,providers:[{provide:ju,useValue:"platform"},{provide:zl,useValue:new Set([()=>yr=null])},...e]})}(a,r))}return function cM(e){const t=Wl();if(!t)throw new me(401,!1);return t}()}}function Wl(){return yr?.get(Mm)??null}let Mm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Tm(e,t){let n;return n="noop"===e?new iM:("zone.js"===e?void 0:e)||new Bt(t),n}(r?.ngZone,function Sm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Bt,useValue:i}];return i.run(()=>{const s=gr.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),u=a.injector.get(ci,null);if(!u)throw new me(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:f=>{u.handleError(f)}});a.onDestroy(()=>{Ks(this._modules,a),l.unsubscribe()})}),function Am(e,t,n){try{const r=n();return Ls(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(Zs);return l.runInitializers(),l.donePromise.then(()=>(function ig(e){cn(e,"Expected localeId to be defined"),"string"==typeof e&&(rg=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ar,Si)||Si),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Fm({},r);return function sM(e,t,n){const r=new El(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Jl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new me(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(zl,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ue(gr))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Fm(e,t){return Array.isArray(t)?t.reduce(Fm,e):{...e,...t}}let Jl=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new b(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Bt.assertNotInAngularZone(),jl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function r_(...e){const t=td(e),n=function Qv(e,t){return"number"==typeof Jn(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?tn(r[0]):function he(e=1/0){return ce(_,e)}(n)(Ta(r,t)):xe}(o,s.pipe(function i_(e={}){const{connector:t=(()=>new ue),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,u,l=0,f=!1,p=!1;const D=()=>{a?.unsubscribe(),a=void 0},C=()=>{D(),s=u=void 0,f=p=!1},F=()=>{const Q=s;C(),Q?.unsubscribe()};return Ce((Q,ae)=>{l++,!p&&!f&&D();const oe=u=u??t();ae.add(()=>{l--,0===l&&!p&&!f&&(a=Aa(F,i))}),oe.subscribe(ae),!s&&l>0&&(s=new ge({next:ve=>oe.next(ve),error:ve=>{p=!0,D(),a=Aa(C,n,ve),oe.error(ve)},complete:()=>{f=!0,D(),a=Aa(C,r),oe.complete()}}),tn(Q).subscribe(s))})(o)}}()))}bootstrap(n,r){const i=n instanceof lh;if(!this._injector.get(Zs).done)throw!i&&function Hi(e){const t=Ye(e)||Nt(e)||$t(e);return null!==t&&t.standalone}(n),new me(405,false);let s;s=i?n:this._injector.get(Es).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function aM(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ti),l=s.create(gr.NULL,[],r||s.selector,a),f=l.location.nativeElement,p=l.injector.get(wm,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Ks(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ks(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(W0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ks(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new me(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ue(Bt),Ue(Nr),Ue(ci))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ks(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let xm=(()=>{class e{}return e.__NG_ELEMENT_ID__=fM,e})();function fM(e){return function hM(e,t,n){if(qi(e)&&!n){const r=an(e.index,t);return new ao(r,r)}return 47&e.type?new ao(t[16],t):null}(Ft(),re(),16==(16&e))}class km{constructor(){}supports(t){return Ps(t)}create(t){return new _M(t)}}const vM=(e,t)=>t;class _M{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||vM}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Vm(r,i,o)?n:r,a=Vm(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,f=u-i;if(l!=f){for(let D=0;D<l;D++){const C=D<o.length?o[D]:o[D]=0,F=C+D;f<=F&&F<l&&(o[D]=C+1)}o[s.previousIndex]=f-l}}a!==u&&t(s,a,u)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ps(t))throw new me(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function kb(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Pr()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new DM(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Lm),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lm),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class DM{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wM{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Lm{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new wM,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vm(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function jm(){return new ea([new km])}let ea=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||jm()),deps:[[e,new hs,new fs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new me(901,!1)}}return e.\u0275prov=Xe({token:e,providedIn:"root",factory:jm}),e})();const MM=Em(null,"core",[]);let SM=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ue(Jl))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({}),e})();let ec=null;function Br(){return ec}class FM{}const qn=new Se("DocumentToken");function Km(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}class yS{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ty=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yS(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),ny(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ny(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(fe(Gn),fe(sr),fe(ea))},e.\u0275dir=Re({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function ny(e,t){e.context.$implicit=t.item}let dc=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new _S,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ry("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ry("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(fe(Gn),fe(sr))},e.\u0275dir=Re({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class _S{constructor(){this.$implicit=null,this.ngIf=null}}function ry(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${rt(t)}'.`)}let GS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({}),e})();class uy{}class wT extends FM{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _c extends wT{static makeCurrent(){!function AM(e){ec||(ec=e)}(new _c)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function CT(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}();return null==n?null:function bT(e){da=da||document.createElement("a"),da.setAttribute("href",e);const t=da.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Km(document.cookie,t)}}let da,So=null;const hy=new Se("TRANSITION_ID"),IT=[{provide:pm,useFactory:function ET(e,t,n){return()=>{n.get(Zs).donePromise.then(()=>{const r=Br(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[hy,qn,gr],multi:!0}];let ST=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();const fa=new Se("EventManagerPlugins");let ha=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ue(fa),Ue(Bt))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();class py{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Br().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let gy=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})(),To=(()=>{class e extends gy{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(my),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(my))}}return e.\u0275fac=function(n){return new(n||e)(Ue(qn))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();function my(e){Br().remove(e)}const Dc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wc=/%COMP%/g;function Cc(e,t){return t.flat(100).map(n=>n.replace(wc,e))}function _y(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let bc=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ec(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Rn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new xT(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case Rn.ShadowDom:return new PT(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Cc(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ue(ha),Ue(To),Ue(Co))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();class Ec{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Dc[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(wy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(wy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Dc[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Dc[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Qt.DashCase|Qt.Important)?t.style.setProperty(n,r,i&Qt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,_y(r)):this.eventManager.addEventListener(t,n,_y(r))}}function wy(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class xT extends Ec{constructor(t,n,r,i){super(t),this.component=r;const o=Cc(i+"-"+r.id,r.styles);n.addStyles(o),this.contentAttr=function FT(e){return"_ngcontent-%COMP%".replace(wc,e)}(i+"-"+r.id),this.hostAttr=function OT(e){return"_nghost-%COMP%".replace(wc,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class PT extends Ec{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Cc(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let RT=(()=>{class e extends py{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ue(qn))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();const Cy=["alt","control","meta","shift"],kT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let VT=(()=>{class e extends py{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Cy.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=kT[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Cy.forEach(s=>{s!==i&&(0,LT[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ue(qn))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();const $T=Em(MM,"browser",[{provide:Bl,useValue:"browser"},{provide:mm,useValue:function BT(){_c.makeCurrent()},multi:!0},{provide:qn,useFactory:function HT(){return function gw(e){Ou=e}(document),document},deps:[]}]),Iy=new Se(""),My=[{provide:Qs,useClass:class MT{addToWindow(t){ot.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),ot.getAllAngularRootElements=()=>t.getAllRootElements(),ot.frameworkStabilizers||(ot.frameworkStabilizers=[]),ot.frameworkStabilizers.push(r=>{const i=ot.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Br().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:wm,useClass:Ul,deps:[Bt,Gl,Qs]},{provide:Ul,useClass:Ul,deps:[Bt,Gl,Qs]}],Sy=[{provide:ju,useValue:"root"},{provide:ci,useFactory:function jT(){return new ci},deps:[]},{provide:fa,useClass:RT,multi:!0,deps:[qn,Bt,Bl]},{provide:fa,useClass:VT,multi:!0,deps:[qn]},{provide:bc,useClass:bc,deps:[ha,To,Co]},{provide:dh,useExisting:bc},{provide:gy,useExisting:To},{provide:To,useClass:To,deps:[qn]},{provide:ha,useClass:ha,deps:[fa,Bt]},{provide:uy,useClass:ST,deps:[]},[]];let UT=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Co,useValue:n.appId},{provide:hy,useExisting:Co},IT]}}}return e.\u0275fac=function(n){return new(n||e)(Ue(Iy,12))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({providers:[...Sy,...My],imports:[GS,SM]}),e})();typeof window<"u"&&window;class pa{}class Sc{}class cr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof cr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new cr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof cr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class nA{encodeKey(t){return Fy(t)}encodeValue(t){return Fy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iA=/%(\d[a-f0-9])/gi,oA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Fy(e){return encodeURIComponent(e).replace(iA,(t,n)=>oA[n]??t)}function ga(e){return`${e}`}class _r{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rA(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(ga):[ga(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new _r({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(ga(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(ga(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class sA{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Oy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Ny(e){return typeof Blob<"u"&&e instanceof Blob}function xy(e){return typeof FormData<"u"&&e instanceof FormData}class Ao{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function aA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new cr),this.context||(this.context=new sA),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new _r,this.urlWithParams=n}serializeBody(){return null===this.body?null:Oy(this.body)||Ny(this.body)||xy(this.body)||function uA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _r?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xy(this.body)?null:Ny(this.body)?this.body.type||null:Oy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,l=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((p,D)=>p.set(D,t.setHeaders[D]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((p,D)=>p.set(D,t.setParams[D]),l)),new Ao(n,r,o,{params:l,headers:u,context:f,reportProgress:a,responseType:i,withCredentials:s})}}var Et=(()=>((Et=Et||{})[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et))();class Tc{constructor(t,n=200,r="OK"){this.headers=t.headers||new cr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ac extends Tc{constructor(t={}){super(t),this.type=Et.ResponseHeader}clone(t={}){return new Ac({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ma extends Tc{constructor(t={}){super(t),this.type=Et.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ma({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Py extends Tc{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Fc(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Ry=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ao)o=n;else{let u,l;u=i.headers instanceof cr?i.headers:new cr(i.headers),i.params&&(l=i.params instanceof _r?i.params:new _r({fromObject:i.params})),o=new Ao(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=function XT(...e){return Ta(e,td(e))}(o).pipe(function eA(e,t){return I(t)?ce(e,t,1):ce(e,1)}(u=>this.handler.handle(u)));if(n instanceof Ao||"events"===i.observe)return s;const a=s.pipe(function tA(e,t){return Ce((n,r)=>{let i=0;n.subscribe(we(r,o=>e.call(t,o,i++)&&r.next(o)))})}(u=>u instanceof ma));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ie(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ie(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new _r).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Fc(i,r))}post(n,r,i={}){return this.request("POST",n,Fc(i,r))}put(n,r,i={}){return this.request("PUT",n,Fc(i,r))}}return e.\u0275fac=function(n){return new(n||e)(Ue(pa))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();function ky(e,t){return t(e)}function lA(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const dA=new Se("HTTP_INTERCEPTORS"),Fo=new Se("HTTP_INTERCEPTOR_FNS");function fA(){let e=null;return(t,n)=>(null===e&&(e=(zr(dA,{optional:!0})??[]).reduceRight(lA,ky)),e(t,n))}let Ly=(()=>{class e extends pa{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Fo)));this.chain=r.reduceRight((i,o)=>function cA(e,t,n){return(r,i)=>n.runInContext(()=>t(r,o=>e(o,i)))}(i,o,this.injector),ky)}return this.chain(n,r=>this.backend.handle(r))}}return e.\u0275fac=function(n){return new(n||e)(Ue(Sc),Ue(Nr))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();const mA=/^\)\]\}',?\n/;let By=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((C,F)=>i.setRequestHeader(C,F.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const C=n.detectContentTypeHeader();null!==C&&i.setRequestHeader("Content-Type",C)}if(n.responseType){const C=n.responseType.toLowerCase();i.responseType="json"!==C?C:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const C=i.statusText||"OK",F=new cr(i.getAllResponseHeaders()),Q=function yA(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new Ac({headers:F,status:i.status,statusText:C,url:Q}),s},u=()=>{let{headers:C,status:F,statusText:Q,url:ae}=a(),oe=null;204!==F&&(oe=typeof i.response>"u"?i.responseText:i.response),0===F&&(F=oe?200:0);let ve=F>=200&&F<300;if("json"===n.responseType&&"string"==typeof oe){const te=oe;oe=oe.replace(mA,"");try{oe=""!==oe?JSON.parse(oe):null}catch(Ae){oe=te,ve&&(ve=!1,oe={error:Ae,text:oe})}}ve?(r.next(new ma({body:oe,headers:C,status:F,statusText:Q,url:ae||void 0})),r.complete()):r.error(new Py({error:oe,headers:C,status:F,statusText:Q,url:ae||void 0}))},l=C=>{const{url:F}=a(),Q=new Py({error:C,status:i.status||0,statusText:i.statusText||"Unknown Error",url:F||void 0});r.error(Q)};let f=!1;const p=C=>{f||(r.next(a()),f=!0);let F={type:Et.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(F.total=C.total),"text"===n.responseType&&i.responseText&&(F.partialText=i.responseText),r.next(F)},D=C=>{let F={type:Et.UploadProgress,loaded:C.loaded};C.lengthComputable&&(F.total=C.total),r.next(F)};return i.addEventListener("load",u),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),n.reportProgress&&(i.addEventListener("progress",p),null!==o&&i.upload&&i.upload.addEventListener("progress",D)),i.send(o),r.next({type:Et.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",u),i.removeEventListener("timeout",l),n.reportProgress&&(i.removeEventListener("progress",p),null!==o&&i.upload&&i.upload.removeEventListener("progress",D)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Ue(uy))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();const Oc=new Se("XSRF_ENABLED"),jy="XSRF-TOKEN",Hy=new Se("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>jy}),$y="X-XSRF-TOKEN",Uy=new Se("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$y});class Gy{}let vA=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Km(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Ue(qn),Ue(Bl),Ue(Hy))},e.\u0275prov=Xe({token:e,factory:e.\u0275fac}),e})();function _A(e,t){const n=e.url.toLowerCase();if(!zr(Oc)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=zr(Gy).getToken(),i=zr(Uy);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var yt=(()=>((yt=yt||{})[yt.Interceptors=0]="Interceptors",yt[yt.LegacyInterceptors=1]="LegacyInterceptors",yt[yt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yt[yt.NoXsrfProtection=3]="NoXsrfProtection",yt[yt.JsonpSupport=4]="JsonpSupport",yt[yt.RequestsMadeViaParent=5]="RequestsMadeViaParent",yt))();function Oi(e,t){return{\u0275kind:e,\u0275providers:t}}function DA(...e){const t=[Ry,By,Ly,{provide:pa,useExisting:Ly},{provide:Sc,useExisting:By},{provide:Fo,useValue:_A,multi:!0},{provide:Oc,useValue:!0},{provide:Gy,useClass:vA}];for(const n of e)t.push(...n.\u0275providers);return function Bw(e){return{\u0275providers:e}}(t)}const qy=new Se("LEGACY_INTERCEPTOR_FN");function CA({cookieName:e,headerName:t}){const n=[];return void 0!==e&&n.push({provide:Hy,useValue:e}),void 0!==t&&n.push({provide:Uy,useValue:t}),Oi(yt.CustomXsrfConfiguration,n)}let bA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({providers:[DA(Oi(yt.LegacyInterceptors,[{provide:qy,useFactory:fA},{provide:Fo,useExisting:qy,multi:!0}]),CA({cookieName:jy,headerName:$y}))]}),e})();const{isArray:EA}=Array,{getPrototypeOf:IA,prototype:MA,keys:SA}=Object;const{isArray:FA}=Array;function xA(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function PA(...e){const t=function Zv(e){return I(Jn(e))?e.pop():void 0}(e),{args:n,keys:r}=function TA(e){if(1===e.length){const t=e[0];if(EA(t))return{args:t,keys:null};if(function AA(e){return e&&"object"==typeof e&&IA(e)===MA}(t)){const n=SA(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new b(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let f=0;f<s;f++){let p=!1;tn(n[f]).subscribe(we(o,D=>{p||(p=!0,l--),a[f]=D},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?xA(r,a):a),o.complete())}))}});return t?i.pipe(function NA(e){return Ie(t=>function OA(e,t){return FA(t)?e(...t):e(t)}(e,t))}(t)):i}let zy=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(fe(xr),fe(En))},e.\u0275dir=Re({type:e}),e})(),jr=(()=>{class e extends zy{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Rt(e)))(r||e)}}(),e.\u0275dir=Re({type:e,features:[et]}),e})();const zn=new Se("NgValueAccessor"),RA={provide:zn,useExisting:it(()=>Nc),multi:!0};let Nc=(()=>{class e extends jr{writeValue(n){this.setProperty("checked",n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Rt(e)))(r||e)}}(),e.\u0275dir=Re({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&ht("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[ut([RA]),et]}),e})();const kA={provide:zn,useExisting:it(()=>Oo),multi:!0},VA=new Se("CompositionEventMode");let Oo=(()=>{class e extends zy{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LA(){const e=Br()?Br().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(fe(xr),fe(En),fe(VA,8))},e.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ht("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ut([kA]),et]}),e})();const jt=new Se("NgValidators"),wr=new Se("NgAsyncValidators");function nv(e){return null!=e}function rv(e){return Ls(e)?Ta(e):e}function iv(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function ov(e,t){return t.map(n=>n(e))}function sv(e){return e.map(t=>function HA(e){return!e.validate}(t)?t:n=>t.validate(n))}function xc(e){return null!=e?function av(e){if(!e)return null;const t=e.filter(nv);return 0==t.length?null:function(n){return iv(ov(n,t))}}(sv(e)):null}function Pc(e){return null!=e?function uv(e){if(!e)return null;const t=e.filter(nv);return 0==t.length?null:function(n){return PA(ov(n,t).map(rv)).pipe(Ie(iv))}}(sv(e)):null}function lv(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Rc(e){return e?Array.isArray(e)?e:[e]:[]}function va(e,t){return Array.isArray(e)?e.includes(t):e===t}function fv(e,t){const n=Rc(t);return Rc(e).forEach(i=>{va(n,i)||n.push(i)}),n}function hv(e,t){return Rc(t).filter(n=>!va(e,n))}class pv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Jt extends pv{get formDirective(){return null}get path(){return null}}class Cr extends pv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gv{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kc=(()=>{class e extends gv{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(fe(Cr,2))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Bs("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[et]}),e})(),Lc=(()=>{class e extends gv{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(fe(Jt,10))},e.\u0275dir=Re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Bs("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[et]}),e})();const No="VALID",Da="INVALID",Ni="PENDING",xo="DISABLED";function Hc(e){return(wa(e)?e.validators:e)||null}function $c(e,t){return(wa(t)?t.asyncValidators:e)||null}function wa(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class _v{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===No}get invalid(){return this.status===Da}get pending(){return this.status==Ni}get disabled(){return this.status===xo}get enabled(){return this.status!==xo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hv(t,this._rawAsyncValidators))}hasValidator(t){return va(this._rawValidators,t)}hasAsyncValidator(t){return va(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ni,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=xo,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=No,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===No||this.status===Ni)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xo:No}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ni,this._hasOwnPendingAsyncValidator=!0;const n=rv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?xo:this.errors?Da:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ni)?Ni:this._anyControlsHaveStatus(Da)?Da:No}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wa(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function JA(e){return Array.isArray(e)?xc(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function ZA(e){return Array.isArray(e)?Pc(e):e||null}(this._rawAsyncValidators)}}class Uc extends _v{constructor(t,n,r){super(Hc(n),$c(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function vv(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new me(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function yv(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new me(1e3,"");if(!r[n])throw new me(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const xi=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>Ca}),Ca="always";function Po(e,t,n=Ca){Gc(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function YA(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Dv(e,t)})}(e,t),function eF(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function XA(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Dv(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function KA(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Ia(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Gc(e,t){const n=function cv(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(lv(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function dv(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(lv(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Ia(t._rawValidators,i),Ia(t._rawAsyncValidators,i)}function Dv(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const oF={provide:Jt,useExisting:it(()=>ko)},Ro=(()=>Promise.resolve())();let ko=(()=>{class e extends Jt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Vt,this.form=new Uc({},xc(n),Pc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ro.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Po(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ro.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ro.then(()=>{const r=this._findContainer(n.path),i=new Uc({});(function wv(e,t){Gc(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ro.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ro.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function Cv(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(fe(jt,10),fe(wr,10),fe(xi,8))},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ht("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([oF]),et]}),e})();function bv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ev(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Iv=class extends _v{constructor(t=null,n,r){super(Hc(n),$c(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wa(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Ev(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Ev(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},uF={provide:Cr,useExisting:it(()=>Sa)},Tv=(()=>Promise.resolve())();let Sa=(()=>{class e extends Cr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Iv,this._registered=!1,this.update=new Vt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Wc(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Oo?n=o:function rF(e){return Object.getPrototypeOf(e.constructor)===jr}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function zc(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Po(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Tv.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Xl(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);Tv.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function ba(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(fe(Jt,9),fe(jt,10),fe(wr,10),fe(zn,10),fe(xm,8),fe(xi,8))},e.\u0275dir=Re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([uF]),et,Xn]}),e})(),Jc=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Fv=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({}),e})(),NF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({imports:[Fv]}),e})(),PF=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:xi,useValue:n.callSetDisabledState??Ca}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Pn({imports:[NF]}),e})();var Wn=V(464),Lo=V(861);let $r=class{constructor(){this.title="",this.completed=!1}};(0,Me.gn)([Wn.Iv.uuid()],$r.prototype,"id",void 0),(0,Me.gn)([Wn.Iv.string({validate:e=>{if(e.title.length<3)throw"Too Short"},allowApiUpdate:["admin","fisSelf"]})],$r.prototype,"title",void 0),(0,Me.gn)([Wn.Iv.boolean()],$r.prototype,"completed",void 0),$r=(0,Me.gn)([(0,Wn.JH)("tasks",{allowApiCrud:Wn.a6.authenticated,allowApiInsert:["admin","fisSelf"],allowApiDelete:["admin","cozin","fisSelf"]})],$r);class Jv{static setAllCompleted(t){return(0,Lo.Z)(function*(){const n=Wn.x2.repo($r);for(const r of yield n.find())yield n.save({...r,completed:t})})()}}function RF(e,t){if(1&e){const n=Ei();Dt(0,"form",3),ht("submit",function(){return Cn(n),bn(Yt().addTask())}),Dt(1,"input",4),ht("ngModelChange",function(i){return Cn(n),bn(Yt().newTaskTitle=i)}),Ot(),Dt(2,"button"),An(3,"Add"),Ot()()}if(2&e){const n=Yt();Bn(1),Mn("ngModel",n.newTaskTitle)}}function kF(e,t){if(1&e){const n=Ei();Dt(0,"button",2),ht("click",function(){Cn(n);const i=Yt().$implicit;return bn(Yt().deleteTask(i))}),An(1," Deletar "),Ot()}}function LF(e,t){if(1&e){const n=Ei();Dt(0,"div")(1,"input",5),ht("ngModelChange",function(i){return bn(Cn(n).$implicit.completed=i)})("change",function(){const o=Cn(n).$implicit;return bn(Yt().saveTask(o))}),Ot(),Dt(2,"input",6),ht("ngModelChange",function(i){return bn(Cn(n).$implicit.title=i)}),Ot(),Dt(3,"button",2),ht("click",function(){const o=Cn(n).$implicit;return bn(Yt().saveTask(o))}),An(4,"Salvar"),Ot(),bi(5,kF,2,0,"button",7),Ot()}if(2&e){const n=t.$implicit,r=Yt();Bn(1),Mn("ngModel",n.completed),Bn(1),Mn("ngModel",n.title),Bn(3),Mn("ngIf",r.taskRepo.metadata.apiDeleteAllowed)}}(0,Me.gn)([(0,Wn.Cr)({allowed:Wn.a6.authenticated})],Jv,"setAllCompleted",null);class Vo{constructor(){this.taskRepo=Wn.x2.repo($r),this.tasks=[],this.newTaskTitle=""}addTask(){var t=this;return(0,Lo.Z)(function*(){try{const n=yield t.taskRepo.insert({title:t.newTaskTitle});t.tasks.push(n),t.newTaskTitle=""}catch(n){alert(n.message)}})()}saveTask(t){var n=this;return(0,Lo.Z)(function*(){try{yield n.taskRepo.save(t)}catch(r){alert(r.message)}})()}deleteTask(t){var n=this;return(0,Lo.Z)(function*(){yield n.taskRepo.delete(t),n.tasks=n.tasks.filter(r=>r!==t)})()}setAllCompleted(t){return(0,Lo.Z)(function*(){yield Jv.setAllCompleted(t)})()}ngOnInit(){this.taskRepo.find({limit:20,orderBy:{completed:"desc"}}).then(t=>this.tasks=t)}}function VF(e,t){if(1&e){const n=Ei();co(0),Dt(1,"h1"),An(2,"Login no sistema"),Ot(),Dt(3,"main")(4,"form",1),ht("submit",function(){return Cn(n),bn(Yt().signIn())}),Dt(5,"input",2),ht("ngModelChange",function(i){return Cn(n),bn(Yt().signInUsername=i)}),Ot(),Dt(6,"button"),An(7,"Sign in"),Ot()()(),fo()}if(2&e){const n=Yt();Bn(5),Mn("ngModel",n.signInUsername)}}function BF(e,t){if(1&e){const n=Ei();co(0),Dt(1,"header"),An(2),Dt(3,"button",3),ht("click",function(){return Cn(n),bn(Yt().signOut())}),An(4,"Sign Out"),Ot()(),ks(5,"app-todo"),fo()}if(2&e){const n=Yt();Bn(2),Hs(" Hello ",null==n.remult.user?null:n.remult.user.name," ")}}Vo.\u0275fac=function(t){return new(t||Vo)},Vo.\u0275cmp=ji({type:Vo,selectors:[["app-todo"]],decls:10,vars:2,consts:[[3,"submit",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],[3,"submit"],["placeholder","Oque tem que ser feito?","name","newTaskTitle",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange","change"],[3,"ngModel","ngModelChange"],[3,"click",4,"ngIf"]],template:function(t,n){1&t&&(Dt(0,"h1"),An(1,"Falta no self servi\xe7e"),Ot(),Dt(2,"main"),bi(3,RF,4,1,"form",0),bi(4,LF,6,3,"div",1),Dt(5,"div")(6,"button",2),ht("click",function(){return n.setAllCompleted(!0)}),An(7,"Marcar tudo como Completo"),Ot(),Dt(8,"button",2),ht("click",function(){return n.setAllCompleted(!1)}),An(9,"Marcar tudo como Incompleto"),Ot()()()),2&t&&(Bn(3),Mn("ngIf",n.taskRepo.metadata.apiInsertAllowed),Bn(1),Mn("ngForOf",n.tasks))},dependencies:[ty,dc,Jc,Oo,Nc,kc,Lc,Sa,ko]});class Bo{constructor(t){this.http=t,this.signInUsername="",this.remult=Wn.x2}signIn(){this.http.post("/api/signIn",{username:this.signInUsername}).subscribe({next:t=>{this.remult.user=t,this.signInUsername=""},error:t=>alert(t.error)})}signOut(){this.http.post("/api/signOut",{}).subscribe(()=>this.remult.user=void 0)}ngOnInit(){this.http.get("/api/currentUser").subscribe(t=>this.remult.user=t)}}Bo.\u0275fac=function(t){return new(t||Bo)(fe(Ry))},Bo.\u0275cmp=ji({type:Bo,selectors:[["app-auth"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"submit"],["placeholder","Usuario","name","username",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,n){1&t&&(bi(0,VF,8,1,"ng-container",0),bi(1,BF,6,1,"ng-container",0)),2&t&&(Mn("ngIf",!n.remult.authenticated()),Bn(1),Mn("ngIf",n.remult.authenticated()))},dependencies:[dc,Jc,Oo,kc,Lc,Sa,ko,Vo]});class jo{constructor(){this.title="remult-angular-todo"}}jo.\u0275fac=function(t){return new(t||jo)},jo.\u0275cmp=ji({type:jo,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){1&t&&ks(0,"app-auth")},dependencies:[Bo]});class Pi{}Pi.\u0275fac=function(t){return new(t||Pi)},Pi.\u0275mod=Kn({type:Pi,bootstrap:[jo]}),Pi.\u0275inj=Pn({imports:[UT,bA,PF]}),$T().bootstrapModule(Pi).catch(e=>console.error(e))},653:(ze,Ee,V)=>{var I=V(922),se=V(9),w=V(214),N=0,de=Math.pow(36,4);function be(){return se((w()*de<<0).toString(36),4)}function K(){return N=N<de?N:0,++N-1}function q(){return"c"+(new Date).getTime().toString(36)+se(K().toString(36),4)+I()+(be()+be())}q.slug=function(){var B=(new Date).getTime().toString(36),H=K().toString(36).slice(-4),g=I().slice(0,1)+I().slice(-1),y=be().slice(-2);return B.slice(-2)+H+g+y},q.isCuid=function(B){return"string"==typeof B&&!!B.startsWith("c")},q.isSlug=function(B){if("string"!=typeof B)return!1;var H=B.length;return H>=7&&H<=10},q.fingerprint=I,ze.exports=q},922:(ze,Ee,V)=>{var I=V(9),se="object"==typeof window?window:self,w=Object.keys(se).length,Z=I(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+w.toString(36),4);ze.exports=function(){return Z}},214:ze=>{var Ee,V=typeof window<"u"&&(window.crypto||window.msCrypto)||typeof self<"u"&&self.crypto;if(V){var I=Math.pow(2,32)-1;Ee=function(){return Math.abs(V.getRandomValues(new Uint32Array(1))[0]/I)}}else Ee=Math.random;ze.exports=Ee},9:ze=>{ze.exports=function(V,I){var se="000000000"+V;return se.substr(se.length-I)}},37:()=>{var ze,Ee;Ee=ze||(ze={}),function(V){var I="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),se=w(Ee);function w(N,Z){return function(ne,de){"function"!=typeof N[ne]&&Object.defineProperty(N,ne,{configurable:!0,writable:!0,value:de}),Z&&Z(ne,de)}}typeof I.Reflect>"u"?I.Reflect=Ee:se=w(I.Reflect,se),function(V){var I=Object.prototype.hasOwnProperty,se="function"==typeof Symbol,w=se&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",N=se&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",Z="function"==typeof Object.create,ne={__proto__:[]}instanceof Array,de=!Z&&!ne,be={create:Z?function(){return d(Object.create(null))}:ne?function(){return d({__proto__:null})}:function(){return d({})},has:de?function(c,h){return I.call(c,h)}:function(c,h){return h in c},get:de?function(c,h){return I.call(c,h)?c[h]:void 0}:function(c,h){return c[h]}},K=Object.getPrototypeOf(Function),q="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,Y=q||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Gr(){var c={},h=[],m=function(){function J(ce,he,xe){this._index=0,this._keys=ce,this._values=he,this._selector=xe}return J.prototype["@@iterator"]=function(){return this},J.prototype[N]=function(){return this},J.prototype.next=function(){var ce=this._index;if(ce>=0&&ce<this._keys.length){var he=this._selector(this._keys[ce],this._values[ce]);return ce+1>=this._keys.length?(this._index=-1,this._keys=h,this._values=h):this._index++,{value:he,done:!1}}return{value:void 0,done:!0}},J.prototype.throw=function(ce){throw this._index>=0&&(this._index=-1,this._keys=h,this._values=h),ce},J.prototype.return=function(ce){return this._index>=0&&(this._index=-1,this._keys=h,this._values=h),{value:ce,done:!0}},J}();return function(){function J(){this._keys=[],this._values=[],this._cacheKey=c,this._cacheIndex=-2}return Object.defineProperty(J.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),J.prototype.has=function(ce){return this._find(ce,!1)>=0},J.prototype.get=function(ce){var he=this._find(ce,!1);return he>=0?this._values[he]:void 0},J.prototype.set=function(ce,he){var xe=this._find(ce,!0);return this._values[xe]=he,this},J.prototype.delete=function(ce){var he=this._find(ce,!1);if(he>=0){for(var xe=this._keys.length,je=he+1;je<xe;je++)this._keys[je-1]=this._keys[je],this._values[je-1]=this._values[je];return this._keys.length--,this._values.length--,ce===this._cacheKey&&(this._cacheKey=c,this._cacheIndex=-2),!0}return!1},J.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=c,this._cacheIndex=-2},J.prototype.keys=function(){return new m(this._keys,this._values,T)},J.prototype.values=function(){return new m(this._keys,this._values,U)},J.prototype.entries=function(){return new m(this._keys,this._values,le)},J.prototype["@@iterator"]=function(){return this.entries()},J.prototype[N]=function(){return this.entries()},J.prototype._find=function(ce,he){return this._cacheKey!==ce&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=ce)),this._cacheIndex<0&&he&&(this._cacheIndex=this._keys.length,this._keys.push(ce),this._values.push(void 0)),this._cacheIndex},J}();function T(J,ce){return J}function U(J,ce){return ce}function le(J,ce){return[J,ce]}}():Map,B=q||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function tn(){return function(){function c(){this._map=new Y}return Object.defineProperty(c.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),c.prototype.has=function(h){return this._map.has(h)},c.prototype.add=function(h){return this._map.set(h,h),this},c.prototype.delete=function(h){return this._map.delete(h)},c.prototype.clear=function(){this._map.clear()},c.prototype.keys=function(){return this._map.keys()},c.prototype.values=function(){return this._map.values()},c.prototype.entries=function(){return this._map.entries()},c.prototype["@@iterator"]=function(){return this.keys()},c.prototype[N]=function(){return this.keys()},c}()}():Set,g=new(q||"function"!=typeof WeakMap?function G(){var h=be.create(),m=T();return function(){function he(){this._key=T()}return he.prototype.has=function(xe){var je=U(xe,!1);return void 0!==je&&be.has(je,this._key)},he.prototype.get=function(xe){var je=U(xe,!1);return void 0!==je?be.get(je,this._key):void 0},he.prototype.set=function(xe,je){return U(xe,!0)[this._key]=je,this},he.prototype.delete=function(xe){var je=U(xe,!1);return void 0!==je&&delete je[this._key]},he.prototype.clear=function(){this._key=T()},he}();function T(){var he;do{he="@@WeakMap@@"+ce()}while(be.has(h,he));return h[he]=!0,he}function U(he,xe){if(!I.call(he,m)){if(!xe)return;Object.defineProperty(he,m,{value:be.create()})}return he[m]}function le(he,xe){for(var je=0;je<xe;++je)he[je]=255*Math.random()|0;return he}function ce(){var he=function J(he){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(he)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(he)):le(new Uint8Array(he),he):le(new Array(he),he)}(16);he[6]=79&he[6]|64,he[8]=191&he[8]|128;for(var xe="",je=0;je<16;++je){var It=he[je];(4===je||6===je||8===je)&&(xe+="-"),It<16&&(xe+="0"),xe+=It.toString(16).toLowerCase()}return xe}}():WeakMap);function $(c,h,m){var T=g.get(c);if(k(T)){if(!m)return;T=new Y,g.set(c,T)}var U=T.get(h);if(k(U)){if(!m)return;U=new Y,T.set(h,U)}return U}function X(c,h,m){if(v(c,h,m))return!0;var U=yn(h);return!W(U)&&X(c,U,m)}function v(c,h,m){var T=$(h,m,!1);return!k(T)&&function we(c){return!!c}(T.has(c))}function _(c,h,m){if(v(c,h,m))return O(c,h,m);var U=yn(h);return W(U)?void 0:_(c,U,m)}function O(c,h,m){var T=$(h,m,!1);if(!k(T))return T.get(c)}function E(c,h,m,T){$(m,T,!0).set(c,h)}function b(c,h){var m=S(c,h),T=yn(c);if(null===T)return m;var U=b(T,h);if(U.length<=0)return m;if(m.length<=0)return U;for(var le=new B,J=[],ce=0,he=m;ce<he.length;ce++)le.has(xe=he[ce])||(le.add(xe),J.push(xe));for(var It=0,xn=U;It<xn.length;It++){var xe;le.has(xe=xn[It])||(le.add(xe),J.push(xe))}return J}function S(c,h){var m=[],T=$(c,h,!1);if(k(T))return m;for(var le=function br(c){var h=en(c,N);if(!Je(h))throw new TypeError;var m=h.call(c);if(!pe(m))throw new TypeError;return m}(T.keys()),J=0;;){var ce=Ur(le);if(!ce)return m.length=J,m;var he=Ho(ce);try{m[J]=he}catch(xe){try{Ri(le)}finally{throw xe}}J++}}function x(c){if(null===c)return 1;switch(typeof c){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===c?1:6;default:return 6}}function k(c){return void 0===c}function W(c){return null===c}function pe(c){return"object"==typeof c?null!==c:"function"==typeof c}function $e(c,h){switch(x(c)){case 0:case 1:case 2:case 3:case 4:case 5:return c}var m=3===h?"string":5===h?"number":"default",T=en(c,w);if(void 0!==T){var U=T.call(c,m);if(pe(U))throw new TypeError;return U}return function Ce(c,h){if("string"===h){var m=c.toString;if(Je(m)&&!pe(T=m.call(c)))return T;if(Je(U=c.valueOf)&&!pe(T=U.call(c)))return T}else{var U;if(Je(U=c.valueOf)&&!pe(T=U.call(c)))return T;var T,le=c.toString;if(Je(le)&&!pe(T=le.call(c)))return T}throw new TypeError}(c,"default"===m?"number":m)}function Ie(c){var h=$e(c,3);return function ue(c){return"symbol"==typeof c}(h)?h:function We(c){return""+c}(h)}function Me(c){return Array.isArray?Array.isArray(c):c instanceof Object?c instanceof Array:"[object Array]"===Object.prototype.toString.call(c)}function Je(c){return"function"==typeof c}function lt(c){return"function"==typeof c}function en(c,h){var m=c[h];if(null!=m){if(!Je(m))throw new TypeError;return m}}function Ho(c){return c.value}function Ur(c){var h=c.next();return!h.done&&h}function Ri(c){var h=c.return;h&&h.call(c)}function yn(c){var h=Object.getPrototypeOf(c);if("function"!=typeof c||c===K||h!==K)return h;var m=c.prototype,T=m&&Object.getPrototypeOf(m);if(null==T||T===Object.prototype)return h;var U=T.constructor;return"function"!=typeof U||U===c?h:U}function d(c){return c.__=void 0,delete c.__,c}V("decorate",function y(c,h,m,T){if(k(m)){if(!Me(c))throw new TypeError;if(!lt(h))throw new TypeError;return function j(c,h){for(var m=c.length-1;m>=0;--m){var U=(0,c[m])(h);if(!k(U)&&!W(U)){if(!lt(U))throw new TypeError;h=U}}return h}(c,h)}if(!Me(c))throw new TypeError;if(!pe(h))throw new TypeError;if(!pe(T)&&!k(T)&&!W(T))throw new TypeError;return W(T)&&(T=void 0),function R(c,h,m,T){for(var U=c.length-1;U>=0;--U){var J=(0,c[U])(h,m,T);if(!k(J)&&!W(J)){if(!pe(J))throw new TypeError;T=J}}return T}(c,h,m=Ie(m),T)}),V("metadata",function M(c,h){return function m(T,U){if(!pe(T))throw new TypeError;if(!k(U)&&!function Ht(c){switch(x(c)){case 3:case 4:return!0;default:return!1}}(U))throw new TypeError;E(c,h,T,U)}}),V("defineMetadata",function A(c,h,m,T){if(!pe(m))throw new TypeError;return k(T)||(T=Ie(T)),E(c,h,m,T)}),V("hasMetadata",function P(c,h,m){if(!pe(h))throw new TypeError;return k(m)||(m=Ie(m)),X(c,h,m)}),V("hasOwnMetadata",function L(c,h,m){if(!pe(h))throw new TypeError;return k(m)||(m=Ie(m)),v(c,h,m)}),V("getMetadata",function z(c,h,m){if(!pe(h))throw new TypeError;return k(m)||(m=Ie(m)),_(c,h,m)}),V("getOwnMetadata",function ee(c,h,m){if(!pe(h))throw new TypeError;return k(m)||(m=Ie(m)),O(c,h,m)}),V("getMetadataKeys",function ie(c,h){if(!pe(c))throw new TypeError;return k(h)||(h=Ie(h)),b(c,h)}),V("getOwnMetadataKeys",function De(c,h){if(!pe(c))throw new TypeError;return k(h)||(h=Ie(h)),S(c,h)}),V("deleteMetadata",function ge(c,h,m){if(!pe(h))throw new TypeError;k(m)||(m=Ie(m));var T=$(h,m,!1);if(k(T)||!T.delete(c))return!1;if(T.size>0)return!0;var U=g.get(h);return U.delete(m),U.size>0||g.delete(h),!0})}(se)}()},464:(ze,Ee,V)=>{"use strict";V.d(Ee,{a6:()=>A.a6,Cr:()=>M.BackendMethod,JH:()=>I.JH,Iv:()=>I.Iv,PE:()=>z.P,x2:()=>ge.x});var I=V(133);V(294),V(489),V(584),V(84),V(842);var M=V(479),A=V(27),P=V(655);(0,P.gn)([I.Iv.uuid(),(0,P.w6)("design:type",String)],class L extends I.eP{}.prototype,"id",void 0);var z=V(732),ee=V(861);class ie{}ie.required=Object.assign((X,v,_)=>{(!v.value||"string"==typeof v.value&&0==v.value.trim().length)&&(v.error=_||ie.required.defaultMessage)},{withMessage:X=>(v,_)=>ie.required(v,_,X),defaultMessage:"Should not be empty"}),ie.unique=Object.assign(function(){var X=(0,ee.Z)(function*(v,_,O){if(!_.entityRef)throw"unique validation may only work on columns that are attached to an entity";(_.entityRef.isNew()||_.valueChanged())&&(yield _.entityRef.repository.count({[_.metadata.key]:_.value}))&&(_.error=O||ie.unique.defaultMessage)});return function(v,_){return X.apply(this,arguments)}}(),{withMessage:X=>(v,_)=>ie.unique(v,_,X),defaultMessage:"already exists"}),ie.uniqueOnBackend=Object.assign(function(){var X=(0,ee.Z)(function*(v,_,O){if((0,A.bT)())return ie.unique(v,_,O)});return function(v,_){return X.apply(this,arguments)}}(),{withMessage:X=>(v,_)=>ie.uniqueOnBackend(v,_,X)}),V(259);var ge=V(925);V(305)},948:(ze,Ee,V)=>{"use strict";V.d(Ee,{Kl:()=>N,XD:()=>ne,kk:()=>w});var I=V(861),se=V(294);function w(Y){if(!Y)return new se.TQ;let B;return B||N(Y)&&(B=new Z(Y)),B||"function"==typeof Y&&(B=new se.TQ(Y)),B}function N(Y){return!!(Y&&Y.get&&Y.put&&Y.post&&Y.delete)}class Z{constructor(B){this.http=B}post(B,H){var g=this;return(0,I.Z)(function*(){return yield ne(()=>be(g.http.post(B,H)))})()}delete(B){return be(this.http.delete(B))}put(B,H){return be(this.http.put(B,H))}get(B){var H=this;return(0,I.Z)(function*(){return yield ne(()=>be(H.http.get(B)))})()}}function ne(Y){return de.apply(this,arguments)}function de(){return(de=(0,I.Z)(function*(Y){for(;;)try{return yield Y()}catch(B){if(B.message?.startsWith("Error occurred while trying to proxy")||B.message?.startsWith("Error occured while trying to proxy")||B.message?.includes("http proxy error")||B.message?.startsWith("Gateway Timeout")){yield new Promise((H,g)=>{setTimeout(()=>{H({})},250)});continue}throw B}})).apply(this,arguments)}function be(Y){let B;return B=void 0!==Y.toPromise?Y.toPromise():Y,B.then(H=>H&&(200==H.status||201==H.status)&&H.headers&&H.request&&H.data?H.data:H).catch(function(){var H=(0,I.Z)(function*(g){throw yield function K(Y){return q.apply(this,arguments)}(g)});return function(g){return H.apply(this,arguments)}}())}function q(){return(q=(0,I.Z)(function*(Y){let B=yield Y;var H;B.error?H=B.error:B.isAxiosError&&(H="string"==typeof B.response?.data?B.response.data:B?.response?.data),H||(H=B.message),0==B.status&&B.error.isTrusted&&(H="Network Error"),"string"==typeof H&&(H={message:H}),B.modelState&&(H.modelState=B.modelState);let g=B.status;return void 0===g&&(g=B.response?.status),null!=g&&(H.httpStatusCode=g),Object.assign(H,{})})).apply(this,arguments)}},584:(ze,Ee,V)=>{"use strict";V.d(Ee,{GG:()=>Z,kT:()=>ne,qJ:()=>N});var I=V(861),se=V(489),w=V(133);function N(be){return be.replace(/([A-Z])/g," $1").replace(/^./,K=>K.toUpperCase()).replace("Email","eMail").replace(" I D"," ID")}class Z{constructor(...K){this.fields=K}getDbName(){return Promise.resolve("")}getId(K){let q="";return this.fields.forEach(Y=>{q.length>0&&(q+=","),q+=K[Y.key]}),q}get valueConverter(){throw new Error("cant get value converter of compound id")}isEqualTo(K){let q={},B=K.toString().split(",");return this.fields.forEach((H,g)=>{q[H.key]=B[g]}),q}resultIdFilter(K,q){return new se.wn(Y=>{let B=[];null!=K&&(B=K.split(",")),this.fields.forEach((H,g)=>{let y;g<B.length&&(y=B[g]),null!=q[H.key]&&(y=q[H.key]),Y.isEqualTo(H,y)})})}}class ne{constructor(K,q){this.repository=K,this.id=q}setId(K){this.repository.metadata.idMetadata.field.valueType==Number&&(K=+K),this.id=K}waitLoadOf(K){return null==K?null:this.repository.getCachedByIdAsync(K)}get(K){return null==K?null:this.repository.getCachedById(K)}set(K){if(K)if("string"==typeof K||"number"==typeof K)this.id=K;else{let q=(0,w.NS)(K,!1);q?(this.repository.addToCache(K),this.id=q.getId()):this.id=K[this.repository.metadata.idMetadata.field.key]}else this.id=null===K?null:void 0}get item(){return this.get(this.id)}waitLoad(){var K=this;return(0,I.Z)(function*(){return K.waitLoadOf(K.id)})()}}},27:(ze,Ee,V)=>{"use strict";V.d(Ee,{a6:()=>P,gw:()=>M,zm:()=>H,MQ:()=>g,Qo:()=>y,dg:()=>ee,bT:()=>B,qT:()=>L,FJ:()=>A});var I=V(861),se=V(479),w=V(294),N=V(363),Z=V(948),ne=V(305);class de{constructor(j,R){this.apiProvider=j,this.getUserId=R,this.queries=new Map,this.channels=new Map}wrapMessageHandling(j){var R=this.apiProvider().wrapMessageHandling;R?R(j):j()}runPromise(j){return j}close(){this.queries.clear(),this.channels.clear(),this.closeIfNoListeners()}subscribeChannel(j,R){var $=this;return(0,I.Z)(function*(){let X=()=>{};const v=yield $.openIfNoOpened();try{let _=$.channels.get(j);if(!_){$.channels.set(j,_=new be);try{_.unsubscribe=yield v.subscribe(j,O=>$.wrapMessageHandling(()=>_.handle(O)),O=>{R.error(O)})}catch(O){throw R.error(O),O}}_.listeners.push(R),X=()=>{_.listeners.splice(_.listeners.indexOf(R),1),0==_.listeners.length&&($.channels.delete(j),_.unsubscribe()),$.closeIfNoListeners()}}catch(_){throw R.error(_),_}return()=>{X(),X=()=>{}}})()}closeIfNoListeners(){this.client&&0===this.queries.size&&0===this.channels.size&&(this.runPromise(this.client.then(j=>j.close())),this.client=void 0,clearInterval(this.interval),this.interval=void 0)}subscribe(j,R,$){let X=!0,v=()=>{X=!1};return this.runPromise(j.buildEntityDataProviderFindOptions(R).then(_=>{if(!X)return;const{createKey:O,subscribe:E}=new w.Ld(this.apiProvider).getEntityDataProvider(j.metadata).buildFindRequest(_),b=O();let S=this.queries.get(b);S?S.sendDefaultState($.next):(this.queries.set(b,S=new ne.A0(j,{entityKey:j.metadata.key,orderBy:R.orderBy},this.getUserId())),S.subscribeCode=()=>{S.unsubscribe&&(S.unsubscribe(),S.unsubscribe=()=>{}),this.runPromise(this.subscribeChannel(S.queryChannel,{next:x=>this.runPromise(S.handle(x)),complete:()=>{},error:x=>{S.listeners.forEach(k=>k.error(x))}}).then(x=>{0!=S.listeners.length?this.runPromise(E(S.id).then(k=>{if(0===S.listeners.length)return k.unsubscribe(),void x();this.runPromise(S.setAllItems(k.result)),S.unsubscribe=()=>{S.unsubscribe=()=>{},x(),this.runPromise(k.unsubscribe())}}).catch(k=>{$.error(k)})):x()})).catch(x=>{S.listeners.forEach(k=>k.error(x))})},S.subscribeCode()),S.listeners.push($),v=()=>{S.listeners.splice(S.listeners.indexOf($),1),$.complete(),0==S.listeners.length&&(this.queries.delete(b),S.unsubscribe()),this.closeIfNoListeners()}}).catch(_=>{$.error(_)})),()=>{v()}}openIfNoOpened(){var j=this;return this.client?this.client:(this.interval=setInterval((0,I.Z)(function*(){const R=[];for(const $ of j.queries.values())R.push($.queryChannel);if(R.length>0){let $=j.apiProvider(),{actionInfo:X}=yield Promise.resolve().then(V.bind(V,479));const v=yield j.runPromise(yield X.runActionWithoutBlockingUI(()=>(0,Z.kk)($.httpClient).post($.url+"/"+ne.h8,R)));for(const _ of v)for(const O of j.queries.values())O.queryChannel===_&&O.subscribeCode()}}),3e4),this.runPromise(this.client=this.apiProvider().subscriptionClient.openConnection(()=>{for(const R of this.queries.values())R.subscribeCode()})))}}class be{constructor(){this.unsubscribe=()=>{},this.listeners=[]}handle(j){var R=this;return(0,I.Z)(function*(){for(const $ of R.listeners)$.next(j)})()}}var K=V(925);class q{openConnection(j){let R;const $=new Map,X=(0,Z.kk)(K.x.apiClient.httpClient);let _,v=!1;const O={close(){_.close()},subscribe:(x,k)=>(0,I.Z)(function*(){let W=$.get(x);return W||($.set(x,W=[]),yield b(x)),W.push(k),()=>{W.splice(W.indexOf(k,1)),0==W.length&&(se.actionInfo.runActionWithoutBlockingUI(()=>X.post(K.x.apiClient.url+"/"+ne.xN+"/unsubscribe",{channel:x,clientId:R})),$.delete(x))}})()},E=()=>new Promise(x=>{!function k(){_&&_.close(),_=new EventSource(K.x.apiClient.url+"/"+ne.xN,{withCredentials:!0}),_.onmessage=W=>{let ue=JSON.parse(W.data);const pe=$.get(ue.channel);pe&&pe.forEach($e=>$e(ue.data))},_.onerror=W=>{console.error("Live Query Event Source Error",W),_.close(),setTimeout(()=>{k()},500)},_.addEventListener("connectionId",function(){var W=(0,I.Z)(function*(ue){if(R=ue.data,v){for(const pe of $.keys())yield b(pe);j()}else v=!0,x(O)});return function(ue){return W.apply(this,arguments)}}())}()});return E();function b(x){return S.apply(this,arguments)}function S(){return(S=(0,I.Z)(function*(x){(yield se.actionInfo.runActionWithoutBlockingUI(()=>X.post(K.x.apiClient.url+"/"+ne.xN+"/subscribe",{channel:x,clientId:R})))===Y&&(yield E())})).apply(this,arguments)}}}const Y="client connection not found";function B(){return se.actionInfo.runningOnServer}let H=(()=>{class ge{constructor(R){var $;if(this.dataProvider=new w.Ld(()=>this.apiClient),this.repCache=new Map,this.liveQueryPublisher={itemChanged:($=(0,I.Z)(function*(){}),function(){return $.apply(this,arguments)})},this.liveQuerySubscriber=new de(()=>this.apiClient,()=>this.user?.id),this.context={},this.apiClient={url:"/api",subscriptionClient:new q},R&&R.getEntityDataProvider)this.dataProvider=R;else if((0,Z.Kl)(R))this.apiClient.httpClient=R;else if("function"==typeof R)this.apiClient.httpClient=R;else if(R){const $=R;$.httpClient&&(this.apiClient.httpClient=$.httpClient),$.url&&(this.apiClient.url=$.url),$.subscriptionClient&&(this.apiClient.subscriptionClient=$.subscriptionClient),$.wrapMessageHandling&&(this.apiClient.wrapMessageHandling=$.wrapMessageHandling)}}repo(R,$){void 0===$&&($=this.dataProvider);let X=this.repCache.get($);X||this.repCache.set($,X=new Map);let v=X.get(R);return v||X.set(R,v=new N.Qr(R,this,$)),v}authenticated(){return void 0!==this.user?.id}isAllowed(R){if(null!=R){if(R instanceof Array){for(const $ of R)if(!0===this.isAllowed($))return!0;return!1}return"function"==typeof R?R(this):"boolean"==typeof R?R:"string"==typeof R&&this.user?.roles?.indexOf(R.toString())>=0}}isAllowedForInstance(R,$){if(!Array.isArray($))return"function"==typeof $?$(R,this):this.isAllowed($);for(const X of $)if(this.isAllowedForInstance(R,X))return!0}call(R,$,...X){const v=R[se.serverActionField];if(!v.doWork)throw Error("The method received is not a valid backend method");return v.doWork(X,$,this.apiClient.url,(0,Z.kk)(this.apiClient.httpClient))}clearAllCache(){this.repCache.clear()}}return ge.onFind=(j,R)=>{},ge})();K.w.defaultRemult=new H;const g=[],y=new Map;class M{constructor(){this.classes=new Map}}function A(ge,j){let R=ge;for(;;){let $=y.get(R);$||y.set(R,$=new M),$.classes.set(ge,j);let X=Object.getPrototypeOf(R.prototype);if(null==X)break;R=X.constructor}}let P=(()=>{class ge{}return ge.everyone=()=>!0,ge.authenticated=(...j)=>j.length>1?j[1].authenticated():1==j.length&&j[0].authenticated?j[0].authenticated():K.w.defaultRemult.authenticated(),ge})();const L={defaultPageSize:200};function ee(ge,j){return ie.apply(this,arguments)}function ie(){return ie=(0,I.Z)(function*(ge,j){const R=new De(ge.liveQueryPublisher);let $=!0;yield ge.dataProvider.transaction(function(){var v=(0,I.Z)(function*(_){ge.dataProvider=_,ge.liveQueryPublisher=R,yield j(),$=!0});return function(_){return v.apply(this,arguments)}}()),$&&(yield R.flush())}),ie.apply(this,arguments)}class De{constructor(j){this.orig=j,this.transactionItems=new Map}itemChanged(j,R){var $=this;return(0,I.Z)(function*(){let X=$.transactionItems.get(j);X||$.transactionItems.set(j,X=[]);for(const v of R)if(void 0!==v.oldId){const _=X.find(O=>O.id===v.oldId);void 0!==_?(v.deleted&&(_.deleted=!0),v.id!=_.id&&(_.id=v.id)):X.push(v)}else X.push(v)})()}flush(){var j=this;return(0,I.Z)(function*(){for(const R of j.transactionItems.keys())yield j.orig.itemChanged(R,j.transactionItems.get(R))})()}}},294:(ze,Ee,V)=>{"use strict";V.d(Ee,{Ld:()=>ne,TQ:()=>q});var I=V(861);class se{constructor(y){this.url=y}add(y,M){this.url.indexOf("?")>=0?this.url+="&":this.url+="?",this.url+=encodeURIComponent(y)+"="+encodeURIComponent(M)}addObject(y,M=""){if(null!=y)for(var A in y)this.add(A+M,y[A])}}var w=V(489),N=V(948),Z=V(479);class ne{constructor(y){this.apiProvider=y,this.supportsRawFilter=!0}getEntityDataProvider(y){return new K(()=>{let M=this.apiProvider()?.url;return null==M&&(M="/api"),M+"/"+y.key},()=>(0,N.kk)(this.apiProvider().httpClient),y)}transaction(y){return(0,I.Z)(function*(){throw new Error("Method not implemented.")})()}}class K{constructor(y,M,A){this.url=y,this.http=M,this.entity=A}translateFromJson(y){let M={};for(const A of this.entity.fields)M[A.key]=A.valueConverter.fromJson(y[A.key]);return M}translateToJson(y){let M={};for(const A of this.entity.fields)M[A.key]=A.valueConverter.toJson(y[A.key]);return M}count(y){var M=this;return(0,I.Z)(function*(){const{run:A}=M.buildFindRequest({where:y});return A("count").then(P=>+P.count)})()}find(y){let{run:M}=this.buildFindRequest(y);return M().then(A=>A.map(P=>this.translateFromJson(P)))}buildFindRequest(y){var M=this;let P,A=new se(this.url());if(y){if(y.where&&(P=y.where.toJson(),function B(g,y){for(const M in g)if(Object.prototype.hasOwnProperty.call(g,M)){const A=g[M];if(Array.isArray(A)&&(A.length>0&&"object"==typeof A[0]||A.length>10))return!1}for(const M in g)if(Object.prototype.hasOwnProperty.call(g,M)){const A=g[M];Array.isArray(A)?M.endsWith(".in")?y.add(M,JSON.stringify(A)):A.forEach(P=>y.add(M,P)):M.startsWith(w.fj)?y.add(M,JSON.stringify(A)):y.add(M,A)}return!0}(P,A)&&(P=void 0)),y.orderBy&&y.orderBy.Segments){let z="",ee="";y.orderBy.Segments.forEach(ie=>{z.length>0&&(z+=",",ee+=","),z+=ie.field.key,ee+=ie.isDescending?"desc":"asc"}),A.add("_sort",z),A.add("_order",ee)}y.limit&&A.add("_limit",y.limit),y.page&&A.add("_page",y.page)}const L=z=>{let ee=new se(A.url);return!z&&P&&(z="get"),z&&ee.add("__action",z),P?this.http().post(ee.url,P):this.http().get(ee.url)};return{createKey:()=>JSON.stringify({url:A,filterObject:P}),run:L,subscribe:(z=(0,I.Z)(function*(ee){return{result:yield L(H+ee),unsubscribe:(De=(0,I.Z)(function*(){return Z.actionInfo.runActionWithoutBlockingUI(()=>M.http().post(M.url()+"?__action=endLiveQuery",{id:ee}))}),function(){return De.apply(this,arguments)})};var De}),function(ie){return z.apply(this,arguments)})};var z}update(y,M){let A={},P=Object.keys(M);for(const L of this.entity.fields)P.includes(L.key)&&(A[L.key]=L.valueConverter.toJson(M[L.key]));return this.http().put(this.url()+"/"+encodeURIComponent(y),A).then(L=>this.translateFromJson(L))}delete(y){return this.http().delete(this.url()+"/"+encodeURIComponent(y))}insert(y){return this.http().post(this.url(),this.translateToJson(y)).then(M=>this.translateFromJson(M))}}class q{constructor(y){this.fetch=y}get(y){var M=this;return(0,I.Z)(function*(){return yield(0,N.XD)((0,I.Z)(function*(){return M.myFetch(y).then(A=>A)}))})()}put(y,M){return this.myFetch(y,{method:"put",body:JSON.stringify(M)})}delete(y){return this.myFetch(y,{method:"delete"})}post(y,M){var A=this;return(0,I.Z)(function*(){return yield(0,N.XD)(()=>A.myFetch(y,{method:"post",body:JSON.stringify(M)}))})()}myFetch(y,M){const A={"Content-type":"application/json"};if(typeof window<"u"&&typeof window.document<"u"&&(window,1))for(const P of window.document.cookie.split(";"))P.trim().startsWith("XSRF-TOKEN=")&&(A["X-XSRF-TOKEN"]=P.split("=")[1]);return(this.fetch||fetch)(y,{credentials:"include",method:M?.method,body:M?.body,headers:A}).then(P=>function Y(g){if(204!=g.status){if(g.status>=200&&g.status<300)return g.json();throw g.json().then(y=>({...y,message:y.message||g.statusText,url:g.url,status:g.status})).catch(()=>{throw{message:g.statusText,url:g.url,status:g.status}})}}(P)).catch(function(){var P=(0,I.Z)(function*(L){throw yield L});return function(L){return P.apply(this,arguments)}}())}}const H="liveQuery-"},84:(ze,Ee,V)=>{"use strict";V.d(Ee,{Y:()=>be});var I=V(861),se=V(584),w=V(842),N=V(489),Z=V(732),ne=V(133),de=V(925);let be=(()=>{class B{constructor(g){this.sql=g,this.createdEntities=[]}static getDb(g){const y=(g||de.w.defaultRemult).dataProvider;if(!y.createCommand)throw"the data provider is not an SqlDatabase";return y}createCommand(){return new K(this.sql.createCommand(),B.LogToConsole)}execute(g){var y=this;return(0,I.Z)(function*(){return yield y.createCommand().execute(g)})()}_getSourceSql(){return this.sql}ensureSchema(g){var y=this;return(0,I.Z)(function*(){y.sql.ensureSchema&&(yield y.sql.ensureSchema(g))})()}getEntityDataProvider(g){var y=this;return new q(g,this,function(){var M=(0,I.Z)(function*(A){y.createdEntities.indexOf(A.$entityName)<0&&(y.createdEntities.push(A.$entityName),yield y.sql.entityIsUsedForTheFirstTime(g))});return function(A){return M.apply(this,arguments)}}(),this.sql)}transaction(g){var y=this;return this.sql.transaction(function(){var M=(0,I.Z)(function*(A){let P=!1;try{yield g(new B({createCommand:()=>{let L=A.createCommand();return{addParameterAndReturnSqlToken:z=>L.addParameterAndReturnSqlToken(z),execute:(z=(0,I.Z)(function*(ee){if(P)throw"can't run a command after the transaction was completed";return L.execute(ee)}),function(ie){return z.apply(this,arguments)})};var z},getLimitSqlSyntax:y.sql.getLimitSqlSyntax,entityIsUsedForTheFirstTime:L=>A.entityIsUsedForTheFirstTime(L),transaction:L=>A.transaction(L)}))}finally{P=!0}});return function(A){return M.apply(this,arguments)}}())}static rawFilter(g){return{[N.vp]:{buildSql:g}}}static filterToRaw(g,y,M){return(0,I.Z)(function*(){M||(M=new Y);const A=(0,ne.Ag)(g);var P=new w.Mf(M,yield(0,w.VQ)(A.metadata));return P._addWhere=!1,yield(yield A.translateWhereToFilter(y)).__applyToConsumer(P),yield P.resolveWhere()})()}}return B.LogToConsole=!1,B.durationThreshold=0,B})();class K{constructor(H,g){this.origin=H,this.allQueries=g,this.args={}}addParameterAndReturnSqlToken(H){let g=this.origin.addParameterAndReturnSqlToken(H);return this.args[g]=H,g}execute(H){var g=this;return(0,I.Z)(function*(){try{let M=new Date,A=yield g.origin.execute(H);if(g.allQueries){var y=(new Date).valueOf()-M.valueOf();y>be.durationThreshold&&console.info({query:H,arguments:g.args,duration:y/1e3})}return A}catch(M){throw console.error({error:M,query:H,arguments:g.args}),M}})()}}let q=(()=>{class B{constructor(g,y,M,A){this.entity=g,this.sql=y,this.iAmUsed=M,this.strategy=A}init(){var g=this;return(0,I.Z)(function*(){let y=yield(0,w.VQ)(g.entity);return yield g.iAmUsed(y),y})()}count(g){var y=this;return(0,I.Z)(function*(){let M=yield y.init(),A="select count(*) count from "+M.$entityName,P=y.sql.createCommand();if(g){let L=new w.Mf(P,M);g.__applyToConsumer(L),A+=(yield L.resolveWhere())}return P.execute(A).then(L=>Number(L.rows[0].count))})()}find(g){var y=this;return(0,I.Z)(function*(){let M=yield y.init(),{colKeys:A,select:P}=y.buildSelect(M);P="select "+P,P+="\n from "+M.$entityName;let L=y.sql.createCommand();if(g){if(g.where){let z=new w.Mf(L,M);g.where.__applyToConsumer(z),P+=(yield z.resolveWhere())}if(g.limit&&(g.orderBy=Z.P.createUniqueSort(y.entity,g.orderBy)),g.orderBy||(g.orderBy=Z.P.createUniqueSort(y.entity,new Z.P)),g.orderBy){let z=!0,ee=[];for(const ie of g.orderBy.Segments)ie.field instanceof se.GG?ee.push(...ie.field.fields.map(De=>({field:De,isDescending:ie.isDescending}))):ee.push(ie);for(const ie of ee)z?(P+=" Order By ",z=!1):P+=", ",P+=M.$dbNameOf(ie.field),ie.isDescending&&(P+=" desc")}if(g.limit){let z=1;g.page&&(z=g.page),z<1&&(z=1),P+=" "+y.strategy.getLimitSqlSyntax(g.limit,(z-1)*g.limit)}}return L.execute(P).then(z=>z.rows.map(ee=>y.buildResultRow(A,ee,z)))})()}buildResultRow(g,y,M){let A={};for(let P=0;P<g.length;P++){const L=g[P];try{A[L.key]=L.valueConverter.fromDb(y[M.getColumnKeyInResultForIndexInSelect(P)])}catch(z){throw new Error("Failed to load from db:"+L.key+"\r\n"+z)}}return A}buildSelect(g){let y="",M=[];for(const A of this.entity.fields)A.isServerExpression||(M.length>0&&(y+=", "),y+=g.$dbNameOf(A),M.push(A));return{colKeys:M,select:y}}update(g,y){var M=this;return(0,I.Z)(function*(){let A=yield M.init(),P=M.sql.createCommand(),L=new w.Mf(P,A);N.wn.fromEntityFilter(M.entity,M.entity.idMetadata.getIdFilter(g)).__applyToConsumer(L);let z="update "+A.$entityName+" set ",ee=!1;for(const ge of M.entity.fields)if(!(0,w.cq)(ge,A)&&void 0!==y[ge.key]){let j=ge.valueConverter.toDb(y[ge.key]);void 0!==j&&(ee?z+=", ":ee=!0,z+=A.$dbNameOf(ge)+" = "+P.addParameterAndReturnSqlToken(j))}z+=(yield L.resolveWhere());let{colKeys:ie,select:De}=M.buildSelect(A);return z+=" returning "+De,P.execute(z).then(ge=>M.buildResultRow(ie,ge.rows[0],ge))})()}delete(g){var y=this;return(0,I.Z)(function*(){let M=yield y.init(),A=y.sql.createCommand(),P=new w.Mf(A,M);N.wn.fromEntityFilter(y.entity,y.entity.idMetadata.getIdFilter(g)).__applyToConsumer(P);let L="delete from "+M.$entityName;return L+=(yield P.resolveWhere()),A.execute(L).then(()=>{})})()}insert(g){var y=this;return(0,I.Z)(function*(){let M=yield y.init(),A=y.sql.createCommand(),P="",L="",z=!1;for(const ge of y.entity.fields)if(!(0,w.cq)(ge,M)){let j=ge.valueConverter.toDb(g[ge.key]);null!=j&&(z?(P+=", ",L+=", "):z=!0,P+=M.$dbNameOf(ge),L+=A.addParameterAndReturnSqlToken(j))}let ee=`insert into ${M.$entityName} (${P}) values (${L})`,{colKeys:ie,select:De}=y.buildSelect(M);return ee+=" returning "+De,yield A.execute(ee).then(ge=>y.buildResultRow(ie,ge.rows[0],ge))})()}}return B.LogToConsole=!1,B})();class Y{execute(H){throw new Error("Method not implemented.")}addParameterAndReturnSqlToken(H){return null===H?"null":(H instanceof Date&&(H=H.toISOString()),"string"==typeof H?(null==H&&(H=""),"'"+H.replace(/'/g,"''")+"'"):H.toString())}}},842:(ze,Ee,V)=>{"use strict";V.d(Ee,{Mf:()=>N,VQ:()=>de,cq:()=>ne});var I=V(861),se=V(133),w=V(84);class N{constructor(q,Y){this.r=q,this.nameProvider=Y,this.where="",this._addWhere=!0,this.promises=[]}resolveWhere(){var q=this;return(0,I.Z)(function*(){for(;q.promises.length>0;){let Y=q.promises;q.promises=[];for(const B of Y)yield B}return q.where})()}custom(q,Y){throw new Error("Custom filter should be translated before it gets here")}or(q){var Y=this;let B="";this.promises.push((0,I.Z)(function*(){for(const H of q){let g=new N(Y.r,Y.nameProvider);g._addWhere=!1,H.__applyToConsumer(g);let y=yield g.resolveWhere();if(!y)return;y.length>0&&(B.length>0&&(B+=" or "),B+=q.length>1?"("+y+")":y)}Y.addToWhere("("+B+")")})())}isNull(q){var Y=this;this.promises.push((0,I.Z)(function*(){return Y.addToWhere(Y.nameProvider.$dbNameOf(q)+" is null")})())}isNotNull(q){var Y=this;this.promises.push((0,I.Z)(function*(){return Y.addToWhere(Y.nameProvider.$dbNameOf(q)+" is not null")})())}isIn(q,Y){var B=this;this.promises.push((0,I.Z)(function*(){B.addToWhere(Y&&Y.length>0?B.nameProvider.$dbNameOf(q)+" in ("+Y.map(H=>B.r.addParameterAndReturnSqlToken(q.valueConverter.toDb(H))).join(",")+")":"1 = 0 /*isIn with no values*/")})())}isEqualTo(q,Y){this.add(q,Y,"=")}isDifferentFrom(q,Y){this.add(q,Y,"<>")}isGreaterOrEqualTo(q,Y){this.add(q,Y,">=")}isGreaterThan(q,Y){this.add(q,Y,">")}isLessOrEqualTo(q,Y){this.add(q,Y,"<=")}isLessThan(q,Y){this.add(q,Y,"<")}containsCaseInsensitive(q,Y){var B=this;this.promises.push((0,I.Z)(function*(){B.addToWhere("lower ("+B.nameProvider.$dbNameOf(q)+") like lower ('%"+Y.replace(/'/g,"''")+"%')")})())}add(q,Y,B){var H=this;this.promises.push((0,I.Z)(function*(){let g=H.nameProvider.$dbNameOf(q)+" "+B+" "+H.r.addParameterAndReturnSqlToken(q.valueConverter.toDb(Y));H.addToWhere(g)})())}addToWhere(q){0==this.where.length?this._addWhere&&(this.where+=" where "):this.where+=" and ",this.where+=q}databaseCustom(q){var Y=this;this.promises.push((0,I.Z)(function*(){if(q?.buildSql){let B=new Z(Y.r);yield q.buildSql(B),B.sql&&Y.addToWhere("("+B.sql+")")}})())}}class Z{constructor(q){this.r=q,this.sql=""}addParameterAndReturnSqlToken(q,Y){return Y&&(q=Y.valueConverter.toDb(q)),this.r.addParameterAndReturnSqlToken(q)}filterToRaw(q,Y){var B=this;return(0,I.Z)(function*(){return w.Y.filterToRaw(q,Y,B)})()}}function ne(K,q){return K.dbReadOnly||K.isServerExpression||q.$dbNameOf(K)!=K.options.dbName}function de(K){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*(K){var q=(0,se.st)(K);const Y={$entityName:yield q.getDbName(),toString:()=>Y.$entityName,$dbNameOf:B=>Y["string"==typeof B?B:B.key]};for(const B of q.fields)Y[B.key]=yield B.getDbName();return Y})).apply(this,arguments)}},489:(ze,Ee,V)=>{"use strict";V.d(Ee,{O_:()=>N,a8:()=>q,fj:()=>de,vp:()=>be,wn:()=>w});var I=V(861),se=V(133);class w{constructor(g){this.apply=g,this.apply||(this.apply=()=>{})}__applyToConsumer(g){this.apply(g)}static resolve(g){return(0,I.Z)(function*(){return"function"==typeof g?yield g():g})()}static createCustom(g,y=""){let M={key:y,rawFilterTranslator:g};return Object.assign(A=>{if(null==A&&(A={}),!M.key)throw"Usage of custom filter before a key was assigned to it";return{[de+M.key]:A}},{rawFilterInfo:M})}static fromEntityFilter(g,y){let M=[];for(const A in y)if(Object.prototype.hasOwnProperty.call(y,A)){let P=y[A];if("$or"==A)M.push(new ne(...P.map(L=>w.fromEntityFilter(g,L))));else if("$and"==A)M.push(new Z(...P.map(L=>w.fromEntityFilter(g,L))));else if(A.startsWith(de))M.push(new w(L=>{L.custom(A.substring(de.length),P)}));else if(A==be)M.push(new w(L=>L.databaseCustom(P)));else{let L=new N(g.fields[A]),z=!1;if(void 0!==P&&null!=P){P.$id&&(P=P.$id);for(const ee in P)if(Object.prototype.hasOwnProperty.call(P,ee)){const ie=P[ee];switch(ee){case"$gte":case">=":M.push(L.isGreaterOrEqualTo(ie)),z=!0;break;case"$gt":case">":M.push(L.isGreaterThan(ie)),z=!0;break;case"$lte":case"<=":M.push(L.isLessOrEqualTo(ie)),z=!0;break;case"$lt":case"<":M.push(L.isLessThan(ie)),z=!0;break;case"$ne":case"!=":case"$nin":z=!0,Array.isArray(ie)?M.push(L.isNotIn(ie)):M.push(L.isDifferentFrom(ie));break;case"$in":z=!0,M.push(L.isIn(ie));break;case"$contains":z=!0,M.push(L.contains(ie))}}Array.isArray(P)&&(z=!0,M.push(L.isIn(P)))}!z&&void 0!==P&&M.push(L.isEqualTo(P))}}return new Z(...M)}toJson(){let g=new K;return this.__applyToConsumer(g),g.result}static entityFilterToJson(g,y){return w.fromEntityFilter(g,y).toJson()}static entityFilterFromJson(g,y){return Y(g,{get:M=>y[M]})}static translateCustomWhere(g,y,M){return(0,I.Z)(function*(){let A=new B(function(){var P=(0,I.Z)(function*(L,z){let ee=[];for(const ie in y.entityType){const De=y.entityType[ie];De&&De.rawFilterInfo&&De.rawFilterInfo.rawFilterTranslator&&De.rawFilterInfo.key==L&&ee.push(yield w.fromEntityFilter(y,yield De.rawFilterInfo.rawFilterTranslator(z,M)))}return ee});return function(L,z){return P.apply(this,arguments)}}());return g.__applyToConsumer(A),yield A.resolve(),g=new w(P=>A.applyTo(P))})()}}class N{constructor(g){this.metadata=g}processVal(g){return(0,se.cG)(this.metadata.valueType,!1)?g?"string"==typeof g||"number"==typeof g?g:(0,se.NS)(g).getId():null:g}contains(g){return new w(y=>y.containsCaseInsensitive(this.metadata,g))}isLessThan(g){return g=this.processVal(g),new w(y=>y.isLessThan(this.metadata,g))}isGreaterOrEqualTo(g){return g=this.processVal(g),new w(y=>y.isGreaterOrEqualTo(this.metadata,g))}isNotIn(g){return new w(y=>{for(const M of g)y.isDifferentFrom(this.metadata,this.processVal(M))})}isDifferentFrom(g){return g=this.processVal(g),new w(null==g&&this.metadata.allowNull?y=>y.isNotNull(this.metadata):y=>y.isDifferentFrom(this.metadata,g))}isLessOrEqualTo(g){return g=this.processVal(g),new w(y=>y.isLessOrEqualTo(this.metadata,g))}isGreaterThan(g){return g=this.processVal(g),new w(y=>y.isGreaterThan(this.metadata,g))}isEqualTo(g){return g=this.processVal(g),new w(null==g&&this.metadata.allowNull?y=>y.isNull(this.metadata):y=>y.isEqualTo(this.metadata,g))}isIn(g){return g=g.map(y=>this.processVal(y)),new w(y=>y.isIn(this.metadata,g))}}class Z extends w{constructor(...g){super(y=>{for(const M of this.filters)M&&M.__applyToConsumer(y)}),this.filters=g}add(g){this.filters.push(g)}}class ne extends w{constructor(...g){super(y=>{let M=this.filters.filter(A=>void 0!==A);M.length>1?y.or(M):1==M.length&&M[0].__applyToConsumer(y)}),this.filters=g}}const de="$custom$",be="$db$";class K{constructor(){this.result={},this.hasUndefined=!1}databaseCustom(g){throw new Error("database custom is not allowed with api calls.")}custom(g,y){this.add(de+g,y)}add(g,y){void 0===y&&(this.hasUndefined=!0);let M=this.result;if(!M[g])return void(M[g]=y);let A=M[g];A instanceof Array?A.push(y):A=[A,y],M[g]=A}or(g){this.add("OR",g.map(y=>{let M=new K;return y.__applyToConsumer(M),M.result}))}isNull(g){this.add(g.key+".null",!0)}isNotNull(g){this.add(g.key+".null",!1)}isIn(g,y){this.add(g.key+".in",y.map(M=>g.valueConverter.toJson(M)))}isEqualTo(g,y){this.add(g.key,g.valueConverter.toJson(y))}isDifferentFrom(g,y){this.add(g.key+".ne",g.valueConverter.toJson(y))}isGreaterOrEqualTo(g,y){this.add(g.key+".gte",g.valueConverter.toJson(y))}isGreaterThan(g,y){this.add(g.key+".gt",g.valueConverter.toJson(y))}isLessOrEqualTo(g,y){this.add(g.key+".lte",g.valueConverter.toJson(y))}isLessThan(g,y){this.add(g.key+".lt",g.valueConverter.toJson(y))}containsCaseInsensitive(g,y){this.add(g.key+".contains",y)}}function q(H,g){return g?w.fromEntityFilter(H,g).toJson():{}}function Y(H,g){let y=[];[...H.fields].forEach(P=>{function L(ie,De,ge=!1,j=!1){let R=g.get(P.key+ie);if(void 0!==R){let $=X=>{let v=X;if(ge){let O;O="string"==typeof X?JSON.parse(X):X,v=O.map(E=>j?E:P.valueConverter.fromJson(E))}else v=j?v:P.valueConverter.fromJson(v);let _=De(v);void 0!==_&&y.push({[P.key]:_})};if(!ge&&R instanceof Array)R.forEach(X=>{$(X)});else{ge&&"string"==typeof R&&(R=JSON.parse(R));const X=A(R);for(const v of X)$(v)}}}new N(P),L("",ie=>ie),L(".gt",ie=>({$gt:ie})),L(".gte",ie=>({$gte:ie})),L(".lt",ie=>({$lt:ie})),L(".lte",ie=>({$lte:ie})),L(".ne",ie=>({$ne:ie})),L(".in",ie=>ie,!0);var ee=g.get(P.key+".null");if(ee)switch(ee=ee.toString().trim().toLowerCase(),ee){case"y":case"true":case"yes":y.push({[P.key]:null});break;default:y.push({[P.key]:{$ne:null}})}L(".contains",ie=>({$contains:ie}),!1,!0)});let M=g.get("OR");if(M){const P=A(M);y.push({$and:P.map(L=>({$or:L.map(z=>Y(H,{get:ee=>z[ee]}))}))})}for(const P in H.entityType){const L=H.entityType[P];if(L&&L.rawFilterInfo&&L.rawFilterInfo.rawFilterTranslator){let z=g.get(de+P);void 0!==z&&y.push({[de+P]:z})}}return{$and:y};function A(P){if(!Array.isArray(P))return[P];const L=[],z=[];for(const ee of P)Array.isArray(ee)?z.push(ee):L.push(ee);return z.push(L),z}}class B{constructor(g){this.translateCustom=g,this.commands=[],this.promises=[]}applyTo(g){this.commands.forEach(y=>y(g))}or(g){var y=this;let M;this.promises.push(Promise.all(g.map(function(){var A=(0,I.Z)(function*(P){let L=new B(y.translateCustom);return P.__applyToConsumer(L),yield L.resolve(),new w(z=>L.applyTo(z))});return function(P){return A.apply(this,arguments)}}())).then(A=>{M=A})),this.commands.push(A=>A.or(M))}isEqualTo(g,y){this.commands.push(M=>M.isEqualTo(g,y))}isDifferentFrom(g,y){this.commands.push(M=>M.isDifferentFrom(g,y))}isNull(g){this.commands.push(y=>y.isNull(g))}isNotNull(g){this.commands.push(y=>y.isNotNull(g))}isGreaterOrEqualTo(g,y){this.commands.push(M=>M.isGreaterOrEqualTo(g,y))}isGreaterThan(g,y){this.commands.push(M=>M.isGreaterThan(g,y))}isLessOrEqualTo(g,y){this.commands.push(M=>M.isLessOrEqualTo(g,y))}isLessThan(g,y){this.commands.push(M=>M.isLessThan(g,y))}containsCaseInsensitive(g,y){this.commands.push(M=>M.containsCaseInsensitive(g,y))}isIn(g,y){this.commands.push(M=>M.isIn(g,y))}custom(g,y){var M=this;this.promises.push((0,I.Z)(function*(){let A=yield M.translateCustom(g,y);A&&(Array.isArray(A)?A.forEach(P=>P.__applyToConsumer(M)):A.__applyToConsumer(M))})())}databaseCustom(g){this.commands.push(y=>y.databaseCustom(g))}resolve(){var g=this;return(0,I.Z)(function*(){for(;g.promises.length>0;){let y=g.promises;g.promises=[],yield Promise.all(y)}})()}}},305:(ze,Ee,V)=>{"use strict";V.d(Ee,{A0:()=>g,h8:()=>y,xN:()=>H});var I=V(861),se=V(464),w=V(246),N=V(42);V(489),V(27),V(479),V(294);const H="stream";class g{constructor(P,L,z){this.repo=P,this.query=L,this.unsubscribe=()=>{},this.defaultQueryState=[],this.listeners=[],this.id=(0,N.Z)(),this.queryChannel=function B(A,P){return`users:${P}:queries:${A}`}(this.id,z)}sendDefaultState(P){P(this.createReducerType(()=>[...this.defaultQueryState],this.allItemsMessage(this.defaultQueryState)))}setAllItems(P){var L=this;return(0,I.Z)(function*(){const z=yield Promise.all(P.map(ee=>L.repo.fromJson(ee)));L.forListeners(ee=>{ee(ie=>z)},L.allItemsMessage(z))})()}allItemsMessage(P){return[{type:"all",data:P}]}forListeners(P,L){P(z=>{if(this.defaultQueryState=z(this.defaultQueryState),L.find(ee=>"add"===ee.type||"replace"===ee.type)&&this.query.orderBy){const ee=se.PE.translateOrderByToSort(this.repo.metadata,this.query.orderBy);this.defaultQueryState.sort((ie,De)=>ee.compare(ie,De))}});for(const z of this.listeners)P(ee=>{z.next(this.createReducerType(ee,L))})}createReducerType(P,L){return{applyChanges:P,changes:L,items:this.defaultQueryState}}handle(P){var L=this;return(0,I.Z)(function*(){for(const z of P)switch(z.type){case"add":case"replace":z.data.item=yield L.repo.fromJson(z.data.item);break;case"all":L.setAllItems(z.data)}L.forListeners(z=>{z(ee=>{ee||(ee=[]);for(const ie of P)switch(ie.type){case"all":L.setAllItems(ie.data);break;case"replace":ee=ee.map(De=>(0,w.z)(L.repo.metadata,De)===ie.data.oldId?ie.data.item:De);break;case"add":(ee=ee.filter(De=>(0,w.z)(L.repo.metadata,De)!==(0,w.z)(L.repo.metadata,ie.data.item))).push(ie.data.item);break;case"remove":ee=ee.filter(De=>(0,w.z)(L.repo.metadata,De)!==ie.data.id)}return ee})},P)})()}}const y="_liveQueryKeepAlive"},925:(ze,Ee,V)=>{"use strict";V.d(Ee,{w:()=>I,x:()=>se});class I{constructor(){this.remultFactory=()=>I.defaultRemult,this.repo=(...N)=>{let Z=this;return{addEventListener:(...ne)=>Z.remultFactory().repo(...N).addEventListener(...ne),count:(...ne)=>Z.remultFactory().repo(...N).count(...ne),create:(...ne)=>Z.remultFactory().repo(...N).create(...ne),delete:ne=>Z.remultFactory().repo(...N).delete(ne),find:(...ne)=>Z.remultFactory().repo(...N).find(...ne),findFirst:(...ne)=>Z.remultFactory().repo(...N).findFirst(...ne),findId:(...ne)=>Z.remultFactory().repo(...N).findId(...ne),fromJson:(...ne)=>Z.remultFactory().repo(...N).fromJson(...ne),getEntityRef:(...ne)=>Z.remultFactory().repo(...N).getEntityRef(...ne),insert:ne=>Z.remultFactory().repo(...N).insert(ne),liveQuery:(...ne)=>Z.remultFactory().repo(...N).liveQuery(...ne),get metadata(){return Z.remultFactory().repo(...N).metadata},query:(...ne)=>Z.remultFactory().repo(...N).query(...ne),save:ne=>Z.remultFactory().repo(...N).save(ne),update:(...ne)=>Z.remultFactory().repo(...N).update(...ne)}}}get liveQuerySubscriber(){return this.remultFactory().liveQuerySubscriber}set liveQuerySubscriber(N){this.remultFactory().liveQuerySubscriber=N}get liveQueryStorage(){return this.remultFactory().liveQueryStorage}set liveQueryStorage(N){this.remultFactory().liveQueryStorage=N}get liveQueryPublisher(){return this.remultFactory().liveQueryPublisher}set liveQueryPublisher(N){this.remultFactory().liveQueryPublisher=N}call(N,Z,...ne){return this.remultFactory().call(N,Z,...ne)}get context(){return this.remultFactory().context}get dataProvider(){return this.remultFactory().dataProvider}set dataProvider(N){this.remultFactory().dataProvider=N}get repCache(){return this.remultFactory().repCache}authenticated(){return this.remultFactory().authenticated()}isAllowed(N){return this.remultFactory().isAllowed(N)}isAllowedForInstance(N,Z){return this.remultFactory().isAllowedForInstance(N,Z)}clearAllCache(){return this.remultFactory().clearAllCache()}resetFactory(){this.remultFactory=()=>I.defaultRemult}get user(){return this.remultFactory().user}set user(N){this.remultFactory().user=N}get apiClient(){return this.remultFactory().apiClient}set apiClient(N){this.remultFactory().apiClient=N}get subscriptionServer(){return this.remultFactory().subscriptionServer}set subscriptionServer(N){this.remultFactory().subscriptionServer=N}}const se=new I},363:(ze,Ee,V)=>{"use strict";V.d(Ee,{JH:()=>en,eP:()=>br,Iv:()=>pe,Qr:()=>M,gY:()=>Ht,er:()=>_,st:()=>Gr,NS:()=>b,cG:()=>ee,Ag:()=>tn});var I=V(861);function w(G){function d(c){if(Object(c)!==c)return Promise.reject(new TypeError(c+" is not an object."));var h=c.done;return Promise.resolve(c.value).then(function(m){return{value:m,done:h}})}return(w=function(h){this.s=h,this.n=h.next}).prototype={s:null,n:null,next:function(){return d(this.n.apply(this.s,arguments))},return:function(h){var m=this.s.return;return void 0===m?Promise.resolve({value:h,done:!0}):d(m.apply(this.s,arguments))},throw:function(h){var m=this.s.return;return void 0===m?Promise.reject(h):d(m.apply(this.s,arguments))}},new w(G)}var N=V(584),Z=V(27),ne=V(489),de=V(732),be=V(42),K=V(653),q=V.n(K),Y=V(259),H=V(925),g=V(246);class M{constructor(d,c,h){this.entity=d,this.remult=c,this.dataProvider=h,this.idCache=new Map,this.cache=new Map,this._info=function ge(G,d){let c=De.get(G);c||De.set(G,c=[]);let h=ee(G)(d),m=function ie(G){return Reflect.getMetadata(L,G)}(G),T=Object.getPrototypeOf(G);for(;null!=T;){let U=De.get(T);U&&c.unshift(...U.filter(J=>!c.find(ce=>ce.key==J.key)));let le=ee(T,!1);if(le){let J=le(d);h={...J,...h};let ce=["saving","saved","deleting","deleted","validation"];for(const he of ce)if(J[he]&&J[he]!==h[he]){let xe=h[he];h[he]=function(){var je=(0,I.Z)(function*(It,xn){yield xe(It,xn),yield J[he](It,xn)});return function(It,xn){return je.apply(this,arguments)}}()}}T=Object.getPrototypeOf(T)}return new W(X(c,d),h,d,G,m)}(d,c)}createAfterFilter(d,c){var h=this;return(0,I.Z)(function*(){let m=new Map;for(const le of de.P.translateOrderByToSort(h.metadata,d).Segments)m.set(le.field.key,c[le.field.key]);let T={$or:[]},U=[];for(const le of de.P.translateOrderByToSort(h.metadata,d).Segments){new ne.O_(le.field);let ce={};for(const he of U)ce[he.key]=m.get(he.key);U.push(le.field),ce[le.field.key]=le.isDescending?{$lt:m.get(le.field.key)}:{$gt:m.get(le.field.key)},T.$or.push(ce)}return T})()}get edp(){return this.__edp?this.__edp:this.__edp=this.dataProvider.getEntityDataProvider(this.metadata)}getCachedById(d){this.getCachedByIdAsync(d+="");let c=this.idCache.get(d);if(!(c instanceof Promise))return c}getCachedByIdAsync(d){var c=this;return(0,I.Z)(function*(){let h=c.idCache.get(d+="");if(h instanceof Promise)return yield h;if(c.idCache.has(d))return h;c.idCache.set(d,void 0);let m=c.findId(d).then(T=>(h=void 0===T?null:T,c.idCache.set(d,h),h));return c.idCache.set(d,m),yield m})()}addToCache(d){d&&this.idCache.set(this.getEntityRef(d).getId()+"",d)}get metadata(){return this._info}addEventListener(d){return this.listeners||(this.listeners=[]),this.listeners.push(d),()=>{this.listeners.splice(this.listeners.indexOf(d),1)}}query(d){return new Ur(d,this)}getEntityRef(d){let c=d[z];return c||(c=new R(this._info,d,this,this.edp,this.remult,!0),Object.defineProperty(d,z,{get:()=>c}),c.saveOriginalData()),c}delete(d){var c=this;return(0,I.Z)(function*(){return"string"==typeof d||"number"==typeof d?c.edp.delete(d):c.getRefForExistingRow(d,void 0).delete()})()}insert(d){var c=this;return(0,I.Z)(function*(){if(Array.isArray(d)){let h=[];for(const m of d)h.push(yield c.insert(m));return h}{let h=b(d,!1);if(h){if(!h.isNew())throw"Item is not new";return yield h.save()}return yield c.getEntityRef(c.create(d)).save()}})()}update(d,c){var h=this;return(0,I.Z)(function*(){return yield h.getRefForExistingRow(c,d).save()})()}getRefForExistingRow(d,c){let h=b(d,!1);if(!h){const m=new this.entity(this.remult);for(const U of this.fieldsOf(d))m[U.key]=d[U.key];let T=new R(this._info,m,this,this.edp,this.remult,!1);c?(T.id=c,T.originalId=c):T.id=T.getId(),h=T,Object.defineProperty(m,z,{get:()=>T})}return h}save(d){var c=this;return(0,I.Z)(function*(){if(Array.isArray(d))return Promise.all(d.map(h=>c.save(h)));{let h=b(d,!1);if(h)return yield h.save();if(d instanceof br)return yield c.getEntityRef(d).save();{let m=d[c.metadata.idMetadata.field.key];return void 0===m?c.insert(d):c.update(m,d)}}})()}liveQuery(d){return d||(d={}),{subscribe:c=>{let h=c;return"function"==typeof c&&(h={next:c,complete:()=>{},error:()=>{}}),h.error??=()=>{},h.complete??=()=>{},this.remult.liveQuerySubscriber.subscribe(this,d,h)}}}find(d){var c=this;return(0,I.Z)(function*(){Z.zm.onFind(c._info,d),d||(d={});let T,h=yield c.buildEntityDataProviderFindOptions(d),m=yield c.edp.find(h);d.load&&(T=d.load(c.metadata.fields));for(const ce of c.metadata.fields)if(ee(ce.valueType,!1)){let xe=!ce.options.lazy;if(void 0!==T&&(xe=T.includes(ce)),xe){let je=c.remult.repo(ce.valueType),It=[];for(const xn of m){let Jn=xn[ce.key];null!=Jn&&!It.includes(Jn)&&!je.idCache.has(Jn)&&It.push(Jn)}It.length>0&&(yield le(je,It))}}return yield Promise.all(m.map(function(){var ce=(0,I.Z)(function*(he){return yield c.mapRawDataToResult(he,T)});return function(he){return ce.apply(this,arguments)}}()));function le(ce,he){return J.apply(this,arguments)}function J(){return(J=(0,I.Z)(function*(ce,he){let xe=yield ce.find({where:ce.metadata.idMetadata.getIdFilter(...he)});for(const je of xe)ce.addToCache(je)})).apply(this,arguments)}})()}buildEntityDataProviderFindOptions(d){var c=this;return(0,I.Z)(function*(){let h={};return h={},(!d.orderBy||0===Object.keys(d.orderBy).length)&&(d.orderBy=c._info.entityInfo.defaultOrderBy),h.where=yield c.translateWhereToFilter(d.where),h.orderBy=de.P.translateOrderByToSort(c.metadata,d.orderBy),h.limit=d.limit,h.page=d.page,h})()}mapRawDataToResult(d,c){var h=this;return(0,I.Z)(function*(){if(!d)return;let m=new h.entity(h.remult),T=new R(h._info,m,h,h.edp,h.remult,!1);return Object.defineProperty(m,z,{get:()=>T}),yield T.loadDataFrom(d,c),T.saveOriginalData(),m})()}count(d){var c=this;return(0,I.Z)(function*(){return c.edp.count(yield c.translateWhereToFilter(d))})()}findFirst(d,c){var h=this;return(0,I.Z)(function*(){let m,T;if(c||(c={}),d&&(c.where=c.where?{$and:[c.where,d]}:d),c.useCache){let U=yield(0,ne.a8)(h.metadata,c.where),le=JSON.stringify(U);if(T=h.cache.get(le),void 0!==T){if(!T.value||!h.getEntityRef(T.value).wasDeleted())return h.cache.get(le).promise;T=void 0,h.cache.delete(le)}else T={value:void 0,promise:void 0},h.cache.set(le,T)}return m=h.find({...c,limit:1}).then(function(){var U=(0,I.Z)(function*(le){let J;return le.length>0&&(J=le[0]),!J&&c.createIfNotFound&&(J=h.create(),c.where&&(yield function A(G,d,c){let h=ne.wn.fromEntityFilter(G,d);const m=()=>{};h&&h.__applyToConsumer({custom:m,databaseCustom:m,containsCaseInsensitive:m,isDifferentFrom:m,isEqualTo:(T,U)=>{c[T.key]=U},isGreaterOrEqualTo:m,isGreaterThan:m,isIn:m,isLessOrEqualTo:m,isLessThan:m,isNotNull:m,isNull:m,or:m})}(h.metadata,c.where,J))),J});return function(le){return U.apply(this,arguments)}}()),T&&(T.promise=m=m.then(U=>(T.value=U,U))),m})()}fieldsOf(d){let c=Object.keys(d);return this.metadata.fields.toArray().filter(h=>c.includes(h.key))}create(d){let c=new this.entity(this.remult);if(d)for(const m of this.fieldsOf(d))c[m.key]=d[m.key];return this.getEntityRef(c),c}fromJson(d,c){var h=this;return(0,I.Z)(function*(){let m={};for(const T of h.fieldsOf(d))void 0!==d[T.key]&&(m[T.key]=T.valueConverter.fromJson(d[T.key]));if(c){let T=h.create();return yield h.getEntityRef(T).loadDataFrom(m),T}return h.mapRawDataToResult(m,void 0)})()}findId(d,c){if(null==d)return null;if("string"!=typeof d&&"number"!=typeof d)throw new Error("id can be either number or string, but got: "+typeof d);return this.findFirst({},{useCache:!0,...c,where:this.metadata.idMetadata.getIdFilter(d)})}translateWhereToFilter(d){var c=this;return(0,I.Z)(function*(){c.metadata.options.backendPrefilter&&(0,Z.bT)()&&(d={$and:[d,yield ne.wn.resolve(c.metadata.options.backendPrefilter)]});let h=yield ne.wn.fromEntityFilter(c.metadata,d);return h&&!c.dataProvider.supportsRawFilter&&(h=yield ne.wn.translateCustomWhere(h,c.metadata,c.remult)),h})()}}const P=Symbol("entityInfo"),L=Symbol("entityInfo_key"),z=Symbol("entityMember");function ee(G,d=!0){if(void 0===G){if(d)throw new Error("Undefined is not an entity :)");return}let c=Reflect.getMetadata(P,G);if(!c&&d)throw new Error(G.prototype.constructor.name+" is not a known entity, did you forget to set @Entity() or did you forget to add the '@' before the call to Entity?");return c}const De=new Map;class j{constructor(d,c,h){this.columnsInfo=d,this.instance=c,this.remult=h,this._isLoading=!1,this.lookups=new Map,this.originalValues={},null!=h&&h.remultFactory&&(h=h.remultFactory());for(const m of d)if(ee(m.valueType,!1)&&h){let U=new N.kT(h.repo(m.valueType),void 0);this.lookups.set(m.key,U);let J,le=c[m.key];Object.defineProperty(c,m.key,{get:()=>(this._subscribers&&(this._subscribers.reportObserved(),J||(J=this.fields.find(m.key),J._subscribers||(J._subscribers=new yn)),J._subscribers.reportObserved()),U.item),set:ce=>{U.set(ce),this._subscribers?.reportChanged(),J||(J=this.fields.find(m.key),J._subscribers||(J._subscribers=new yn)),J._subscribers.reportChanged()},enumerable:!0}),U.set(le)}}get error(){return this._subscribers?.reportObserved(),this._error}set error(d){this._error=d,this._subscribers?.reportChanged()}subscribe(d){return this.initSubscribers(),this._subscribers.subscribe(d)}initSubscribers(){if(!this._subscribers){this._subscribers=new yn;for(const d of this.columnsInfo){let c=ee(d.valueType,!1),h=this.fields.find(d.key);if(h._subscribers=new yn,!c||!this.remult){let m=this.instance[d.key];Object.defineProperty(this.instance,d.key,{get:()=>(this._subscribers.reportObserved(),h._subscribers.reportObserved(),m),set:T=>{m=T,this._subscribers.reportChanged(),h._subscribers.reportChanged()},enumerable:!0})}}}}get isLoading(){return this._subscribers?.reportObserved(),this._isLoading}set isLoading(d){this._isLoading=d,this._subscribers?.reportChanged()}waitLoad(){var d=this;return(0,I.Z)(function*(){yield Promise.all([...d.lookups.values()].map(c=>c.waitLoad()))})()}__assertValidity(){if(!this.hasErrors()){let d={modelState:Object.assign({},this.errors),message:this.error};if(!d.message)for(const c of this.columnsInfo)if(this.errors[c.key]){d.message=this.fields[c.key].metadata.caption+": "+this.errors[c.key],this.error=d.message;break}throw d}}catchSaveErrors(d){let c=d;if(c instanceof Promise)return c.then(m=>this.catchSaveErrors(m));c.error&&(c=c.error),this.error=c.message?c.message:c.Message?c.Message:c;let h=c.modelState;throw h||(h=c.ModelState),h&&(this.errors=h),d}__clearErrorsAndReportChanged(){this.errors=void 0,this.error=void 0,this._reportChangedToEntityAndFields()}_reportChangedToEntityAndFields(){if(this._subscribers){this._subscribers.reportChanged();for(const d of this.fields)d._subscribers.reportChanged()}}hasErrors(){return this._subscribers?.reportObserved(),!this.error&&null==this.errors}copyDataToObject(){let d={};for(const c of this.columnsInfo){let m,h=this.lookups.get(c.key);m=h?h.id:this.instance[c.key],void 0!==m&&(m=c.valueConverter.toJson(m),null!=m&&(m=c.valueConverter.fromJson(JSON.parse(JSON.stringify(m))))),d[c.key]=m}return d}saveOriginalData(){this.originalValues=this.copyDataToObject(),this.saveMoreOriginalData()}saveMoreOriginalData(){}validate(){var d=this;return(0,I.Z)(function*(){return d.__clearErrorsAndReportChanged(),yield d.__performColumnAndEntityValidations(),d.hasErrors()})()}__validateEntity(){var d=this;return(0,I.Z)(function*(){d.__clearErrorsAndReportChanged(),yield d.__performColumnAndEntityValidations(),d.__assertValidity()})()}__performColumnAndEntityValidations(){return(0,I.Z)(function*(){})()}toApiJson(){let d={};for(const c of this.columnsInfo)if(!this.remult||void 0===c.includeInApi||this.remult.isAllowed(c.includeInApi)){let h,m=this.lookups.get(c.key);m?h=m.id:(h=this.instance[c.key],this.remult||h&&ee(h.constructor,!1)&&(h=b(h).getId())),d[c.key]=c.valueConverter.toJson(h)}return d}_updateEntityBasedOnApi(d){var c=this;return(0,I.Z)(function*(){let h=Object.keys(d);for(const m of c.columnsInfo)if(h.includes(m.key)&&(void 0===m.includeInApi||c.remult.isAllowed(m.includeInApi))&&(!c.remult||void 0===m.allowApiUpdate||c.remult.isAllowedForInstance(c.instance,m.allowApiUpdate))){let T=c.lookups.get(m.key);T?T.id=d[m.key]:c.instance[m.key]=m.valueConverter.fromJson(d[m.key])}yield Promise.all([...c.fields].map(m=>m.load()))})()}}class R extends j{constructor(d,c,h,m,T,U){if(super(d.columnsInfo,c,T),this.info=d,this.repository=h,this.edp=m,this._isNew=U,this._wasDeleted=!1,this._saving=!1,this.metadata=d,U)for(const le of d.columnsInfo)le.defaultValue&&void 0===c[le.key]&&("function"==typeof le.defaultValue?c[le.key]=le.defaultValue(c):c[le.key]||(c[le.key]=le.defaultValue));this.info.options.entityRefInit&&this.info.options.entityRefInit(this,c),Z.zm.entityRefInit&&Z.zm.entityRefInit(this,c)}get apiUpdateAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiUpdate)}get apiDeleteAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiDelete)}get apiInsertAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiInsert)}getId(){return(0,g.z)(this.info,this.instance)}saveMoreOriginalData(){this.originalId=this.getId()}wasDeleted(){return this._subscribers?.reportObserved(),this._wasDeleted}undoChanges(){this.loadDataFrom(this.originalValues),this.__clearErrorsAndReportChanged()}reload(){var d=this;return(0,I.Z)(function*(){return yield d.edp.find({where:d.getIdFilter()}).then(function(){var c=(0,I.Z)(function*(h){yield d.loadDataFrom(h[0]),d.saveOriginalData()});return function(h){return c.apply(this,arguments)}}()),d._reportChangedToEntityAndFields(),d.instance})()}get fields(){if(!this._columns){let d=[],c={find:h=>c["string"==typeof h?h:h.key],[Symbol.iterator]:()=>d[Symbol.iterator](),toArray:()=>d};for(const h of this.info.columnsInfo)d.push(c[h.key]=new E(h,this.info.fields[h.key],this.instance,this,this));this._columns=c}return this._columns}save(){var d=this;return(0,I.Z)(function*(){try{if(d._saving)throw new Error("cannot save while entity is already saving");if(d._saving=!0,d.wasDeleted())throw new Error("cannot save a deleted row");d.isLoading=!0,yield d.__validateEntity();let c=!1;for(const U of d.fields)U.metadata.options.saving&&(yield U.metadata.options.saving(d.instance,U));d.info.entityInfo.saving&&(yield d.info.entityInfo.saving(d.instance,()=>c=!0)),d.__assertValidity();let T,h=d.copyDataToObject(),m=[];for(const U of d.metadata.fields)if(U.dbReadOnly){h[U.key]=void 0,m.push(U.key);let le=d.fields.find(U);le.value=le.originalValue}d.info.idMetadata.field instanceof N.GG&&delete h.id;try{if(d._subscribers?.reportChanged(),d.isNew())T=yield d.edp.insert(h);else{let U={},le=!1;for(const J in h)if(Object.prototype.hasOwnProperty.call(h,J)){const ce=h[J];d.fields.find(J).valueChanged()&&!m.includes(J)&&(U[J]=ce,le=!0)}if(!le)return d.instance;T=c?(yield d.edp.find({where:d.getIdFilter()}))[0]:yield d.edp.update(d.id,U)}return yield d.loadDataFrom(T),d.info.entityInfo.saved&&(yield d.info.entityInfo.saved(d.instance)),yield d.repository.remult.liveQueryPublisher.itemChanged(d.repository.metadata.key,[{id:d.getId(),oldId:d.getOriginalId(),deleted:!1}]),d.saveOriginalData(),d._isNew=!1,d.instance}catch(U){yield d.catchSaveErrors(U)}}finally{d.isLoading=!1,d._reportChangedToEntityAndFields(),d._saving=!1}})()}getIdFilter(){return ne.wn.fromEntityFilter(this.metadata,this.repository.metadata.idMetadata.getIdFilter(this.id))}delete(){var d=this;return(0,I.Z)(function*(){d.__clearErrorsAndReportChanged(),d.info.entityInfo.deleting&&(yield d.info.entityInfo.deleting(d.instance)),d.__assertValidity();try{if(yield d.edp.delete(d.id),d.info.entityInfo.deleted&&(yield d.info.entityInfo.deleted(d.instance)),d.repository.listeners)for(const c of d.repository.listeners.filter(h=>h.deleted))yield c.deleted(d.instance);yield d.repository.remult.liveQueryPublisher.itemChanged(d.repository.metadata.key,[{id:d.getId(),oldId:d.getOriginalId(),deleted:!0}]),d._wasDeleted=!0}catch(c){yield d.catchSaveErrors(c)}})()}loadDataFrom(d,c){var h=this;return(0,I.Z)(function*(){for(const m of h.info.fields){let T=h.lookups.get(m.key);T?(T.id=d[m.key],void 0===c?m.options.lazy||(yield T.waitLoad()):c.includes(m)&&(yield T.waitLoad())):h.instance[m.key]=d[m.key]}yield h.calcServerExpression(),h.id=(0,g.z)(h.info,h.instance)})()}getOriginalId(){return this.originalId}calcServerExpression(){var d=this;return(0,I.Z)(function*(){if((0,Z.bT)())for(const c of d.info.columnsInfo)c.serverExpression&&(d.instance[c.key]=yield c.serverExpression(d.instance))})()}isNew(){return this._subscribers?.reportObserved(),this._isNew}wasChanged(){this._subscribers?.reportObserved();for(const d of this.fields)if(d.valueChanged())return!0;return!1}__performColumnAndEntityValidations(){var d=this;return(0,I.Z)(function*(){for(const c of d.columnsInfo)c.validate&&(yield new E(c,d.info.fields[c.key],d.instance,d,d).__performValidation());if(d.info.entityInfo.validation&&(yield d.info.entityInfo.validation(d.instance,d)),d.repository.listeners)for(const c of d.repository.listeners.filter(h=>h.validating))yield c.validating(d.instance)})()}}const $=Symbol("controllerColumns");function X(G,d){return G.map(c=>Ht(c.settings(d),d))}function _(G,d){const c=d||H.x;let h=G[$];if(h||(h=G[z]),!h){let m=De.get(G.constructor);m||De.set(G.constructor,m=[]);let T=Object.getPrototypeOf(G.constructor);for(;null!=T;){let U=De.get(T);U&&m.unshift(...U.filter(le=>!m.find(J=>J.key==le.key))),T=Object.getPrototypeOf(T)}G[$]=h=new O(X(m,c),G,c)}return h}class O extends j{constructor(d,c,h){super(d,c,h);let m=[],T={find:U=>T["string"==typeof U?U:U.key],[Symbol.iterator]:()=>m[Symbol.iterator](),toArray:()=>m};for(const U of d)m.push(T[U.key]=new E(U,new k(U,void 0,h),c,void 0,this));this.fields=T}__performColumnAndEntityValidations(){var d=this;return(0,I.Z)(function*(){for(const c of d.fields)c instanceof E&&(yield c.__performValidation())})()}}class E{constructor(d,c,h,m,T){this.settings=d,this.metadata=c,this.container=h,this.helper=m,this.rowBase=T,this.target=this.settings.target,this.entityRef=this.helper}subscribe(d){return this._subscribers||this.rowBase.initSubscribers(),this._subscribers.subscribe(d)}valueIsNull(){this.reportObserved();let d=this.rowBase.lookups.get(this.metadata.key);return d?null==d.id:null===this.value}originalValueIsNull(){return this.reportObserved(),this.rowBase.lookups.get(this.metadata.key),null===this.rawOriginalValue()}load(){var d=this;return(0,I.Z)(function*(){let c=d.rowBase.lookups.get(d.metadata.key);return c?(d.valueChanged()&&(yield c.waitLoadOf(d.rawOriginalValue())),yield c.waitLoad()):d.value})()}reportObserved(){this._subscribers?.reportObserved(),this.rowBase._subscribers?.reportObserved()}reportChanged(){this._subscribers?.reportChanged(),this.rowBase._subscribers?.reportChanged()}get error(){if(this.reportObserved(),this.rowBase.errors)return this.rowBase.errors[this.metadata.key]}set error(d){this.rowBase.errors||(this.rowBase.errors={}),this.rowBase.errors[this.metadata.key]=d,this.reportChanged()}get displayValue(){return this.reportObserved(),null!=this.value?this.settings.displayValue?this.settings.displayValue(this.container,this.value):this.metadata.valueConverter.displayValue?this.metadata.valueConverter.displayValue(this.value):this.value.toString():""}get value(){return this.container[this.metadata.key]}set value(d){this.container[this.metadata.key]=d}get originalValue(){this.reportObserved();let d=this.rowBase.lookups.get(this.metadata.key);return d?d.get(this.rawOriginalValue()):this.rowBase.originalValues[this.metadata.key]}rawOriginalValue(){return this.rowBase.originalValues[this.metadata.key]}setId(d){this.value=d}getId(){let d=this.rowBase.lookups.get(this.metadata.key);return d?null!=d.id?d.id:null:this.value}get inputValue(){this.reportObserved();let d=this.rowBase.lookups.get(this.metadata.key);return d?null!=d.id?d.id.toString():null:this.metadata.valueConverter.toInput(this.value,this.settings.inputType)}set inputValue(d){let c=this.rowBase.lookups.get(this.metadata.key);c?c.setId(d):this.value=this.metadata.valueConverter.fromInput(d,this.settings.inputType)}valueChanged(){this.reportObserved();let d=this.value,c=this.rowBase.lookups.get(this.metadata.key);return c&&(d=c.id),JSON.stringify(this.metadata.valueConverter.toJson(this.rowBase.originalValues[this.metadata.key]))!=JSON.stringify(this.metadata.valueConverter.toJson(d))}__performValidation(){var d=this;return(0,I.Z)(function*(){try{if(Array.isArray(d.settings.validate))for(const h of d.settings.validate)yield h(d.container,d);else"function"==typeof d.settings.validate&&(yield d.settings.validate(d.container,d))}catch(c){d.error="string"==typeof c?c:c.message}})()}validate(){var d=this;return(0,I.Z)(function*(){return yield d.__performValidation(),!d.error})()}}function b(G,d=!0){let c=G[z];if(!c&&d)throw new Error("item "+G.constructor.name+" was not initialized using a context");return c}function x(G,d,c){let h;return"function"==typeof G?c&&(h=G(c)):G&&(h=G),h=((G,d,c)=>c)(0,0,h),h||(d?(0,N.qJ)(d):"")}class k{constructor(d,c,h){this.settings=d,this.entityDefs=c,this.options=this.settings,this.target=this.settings.target,this.valueConverter=this.settings.valueConverter,this.allowNull=!!this.settings.allowNull,this.inputType=this.settings.inputType,this.key=this.settings.key,this.valueType=this.settings.valueType,d.serverExpression&&(this.isServerExpression=!0),"boolean"==typeof this.settings.allowApiUpdate&&(this.readonly=this.settings.allowApiUpdate),this.inputType||(this.inputType=this.valueConverter.inputType),this.caption=x(d.caption,d.key,h)}getDbName(){var d=this;return(0,I.Z)(function*(){try{if(d.settings.sqlExpression){let c;return c="function"==typeof d.settings.sqlExpression?yield d.settings.sqlExpression(d.entityDefs):d.settings.sqlExpression,c||d.settings.dbName}return d.settings.dbName}finally{}})()}get dbName(){let d;return this.settings.sqlExpression&&(d="function"==typeof this.settings.sqlExpression?this.settings.sqlExpression(this.entityDefs):this.settings.sqlExpression),d||this.settings.dbName}get dbReadOnly(){return this.settings.dbReadOnly}}class W{constructor(d,c,h,m,T){this.columnsInfo=d,this.entityInfo=c,this.remult=h,this.entityType=m,this.key=T,this.options=this.entityInfo,this.idMetadata={field:void 0,createIdInFilter:J=>{if(J.length>0)return{$or:J.map(ce=>this.idMetadata.getIdFilter(b(ce).getId()))}},isIdField:J=>J.key==this.idMetadata.field.key,getIdFilter:(...J)=>{if(this.idMetadata.field instanceof N.GG){let ce=this.idMetadata.field;return{$or:J.map(he=>ce.isEqualTo(he))}}return 1==J.length?{[this.idMetadata.field.key]:J[0]}:{[this.idMetadata.field.key]:J}}},void 0!==this.options.allowApiCrud&&(void 0===this.options.allowApiDelete&&(this.options.allowApiDelete=this.options.allowApiCrud),void 0===this.options.allowApiInsert&&(this.options.allowApiInsert=this.options.allowApiCrud),void 0===this.options.allowApiUpdate&&(this.options.allowApiUpdate=this.options.allowApiCrud),void 0===this.options.allowApiRead&&(this.options.allowApiRead=this.options.allowApiCrud)),void 0===this.options.allowApiRead&&(this.options.allowApiRead=!0),this.key||(this.key=m.name),c.dbName||(c.dbName=this.key);let U=[],le={find:J=>le["string"==typeof J?J:J.key],[Symbol.iterator]:()=>U[Symbol.iterator](),toArray:()=>U};for(const J of d)U.push(le[J.key]=new k(J,this,h));if(this.fields=le,this.caption=x(c.caption,this.key,h),c.id){let J=c.id(this.fields);Array.isArray(J)?J.length>1?this.idMetadata.field=new N.GG(...J):1==J.length&&(this.idMetadata.field=J[0]):this.idMetadata.field=J}else this.idMetadata.field=this.fields.id?this.fields.id:[...this.fields][0]}get apiUpdateAllowed(){return this.remult.isAllowedForInstance(void 0,this.options.allowApiUpdate)}get apiReadAllowed(){return this.remult.isAllowed(this.options.allowApiRead)}get apiDeleteAllowed(){return this.remult.isAllowedForInstance(void 0,this.options.allowApiDelete)}get apiInsertAllowed(){return this.remult.isAllowedForInstance(void 0,this.options.allowApiInsert)}getDbName(){if(this.dbNamePromise)return this.dbNamePromise;if(this.options.sqlExpression||(this.dbNamePromise=Promise.resolve(this.options.dbName)),"string"==typeof this.options.sqlExpression)this.dbNamePromise=Promise.resolve(this.options.sqlExpression);else if("function"==typeof this.options.sqlExpression){let d=this.options.sqlExpression(this);d instanceof Promise?this.dbNamePromise=d:d&&(this.dbNamePromise=Promise.resolve(d))}return this.dbNamePromise=this.dbNamePromise.then(d=>d||this.options.dbName),this.dbNamePromise}}class pe{static object(...d){return Me(void 0,...d)}static dateOnly(...d){return Me(()=>Date,{valueConverter:Y.K.DateOnly},...d)}static date(...d){return Me(()=>Date,...d)}static integer(...d){return Me(()=>Number,{valueConverter:Y.K.Integer},...d)}static autoIncrement(...d){return Me(()=>Number,{allowApiUpdate:!1,dbReadOnly:!0,valueConverter:{...Y.K.Integer,fieldTypeInDb:"autoincrement"}},...d)}static number(...d){return Me(()=>Number,...d)}static createdAt(...d){return Me(()=>Date,{saving:(c,h)=>{b(c).isNew()&&(h.value=new Date)}},...d)}static updatedAt(...d){return Me(()=>Date,{saving:(c,h)=>{h.value=new Date}},...d)}static uuid(...d){return Me(()=>String,{allowApiUpdate:!1,defaultValue:()=>(0,be.Z)(),saving:(c,h)=>{h.value||(h.value=(0,be.Z)())}},...d)}static cuid(...d){return Me(()=>String,{allowApiUpdate:!1,defaultValue:()=>q()(),saving:(c,h)=>{h.value||(h.value=q()())}},...d)}static string(...d){return Me(()=>String,...d)}static boolean(...d){return Me(()=>Boolean,...d)}}function Me(G,...d){return(c,h,m)=>{let T=J=>{let ce=lt(d,J);!ce.valueType&&G&&(ce.valueType=G()),ce.key||(ce.key=h),ce.dbName||(ce.dbName=ce.key);let he=ce.valueType;return he||(he=Reflect.getMetadata("design:type",c,h),ce.valueType=he),ce.target||(ce.target=c),ce},U=De.get(c.constructor);U||(U=[],De.set(c.constructor,U));let le=U.find(J=>J.key==h);if(le){let J=le.settings;le.settings=ce=>{let he=J(ce),xe=T(ce);return Object.assign(he,xe)}}else U.push({key:h,settings:T})}}const Je=Symbol("storableMember");function lt(G,d){let c={};for(const h of G)h&&("function"==typeof h?h(c,d):Object.assign(c,h));return c}function Ht(G,d){if(G.valueType){let c=Reflect.getMetadata(Je,G.valueType);c&&(G={...lt(c,d),...G})}return G.valueType==String&&(G.valueConverter||(G.valueConverter={toJson:h=>h,fromJson:h=>h})),G.valueType==Number&&(G.valueConverter||(G.valueConverter=Y.K.Number)),G.valueType==Date&&(G.valueConverter||(G.valueConverter=Y.K.Date)),G.valueType==Boolean&&(G.valueConverter||(G.valueConverter=Y.K.Boolean)),G.valueConverter||(G.valueConverter=ee(G.valueType,!1)?{toDb:h=>h,fromDb:h=>h}:Y.K.Default),G.valueConverter.toJson||(G.valueConverter.toJson=c=>c),G.valueConverter.fromJson||(G.valueConverter.fromJson=c=>c),G.valueConverter.toDb||(G.valueConverter.toDb=c=>G.valueConverter.toJson(c)),G.valueConverter.fromDb||(G.valueConverter.fromDb=c=>G.valueConverter.fromJson(c)),G.valueConverter.toInput||(G.valueConverter.toInput=c=>G.valueConverter.toJson(c)),G.valueConverter.fromInput||(G.valueConverter.fromInput=c=>G.valueConverter.fromJson(c)),G}function en(G,...d){return c=>{for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const T=c[m];T?.rawFilterInfo?.rawFilterTranslator&&(T.rawFilterInfo.key||(T.rawFilterInfo.key=m))}return Z.MQ.push(c),(0,Z.FJ)(c,{key:G}),Reflect.defineMetadata(P,m=>{let T={};for(const le of d)le&&("function"==typeof le?le(T,m):Object.assign(T,le));let U=Object.getPrototypeOf(c);if(U){let le=ee(U,!1);if(le){let J=le(m);J&&(T={...J,...T})}}return T},c),Reflect.defineMetadata(L,G,c),c}}class br{get _(){return b(this)}save(){return this._.save()}assign(d){return function B(G,d){d&&Object.assign(G,d)}(this,d),this}delete(){return this._.delete()}isNew(){return this._.isNew()}get $(){return this._.fields}}class Ur{constructor(d,c){this.options=d,this.repo=c,this._count=void 0,this.options||(this.options={}),this.options.pageSize||(this.options.pageSize=Z.qT.defaultPageSize)}getPage(d){var c=this;return(0,I.Z)(function*(){return d<1&&(d=1),c.repo.find({where:c.options.where,orderBy:c.options.orderBy,limit:c.options.pageSize,page:d,load:c.options.load})})()}count(){var d=this;return(0,I.Z)(function*(){return void 0===d._count&&(d._count=yield d.repo.count(d.options.where)),d._count})()}forEach(d){var c=this;return(0,I.Z)(function*(){let h=0;var U,m=!1,T=!1;try{for(var J,le=function se(G){var d,c,h,m=2;for(typeof Symbol<"u"&&(c=Symbol.asyncIterator,h=Symbol.iterator);m--;){if(c&&null!=(d=G[c]))return d.call(G);if(h&&null!=(d=G[h]))return new w(d.call(G));c="@@asyncIterator",h="@@iterator"}throw new TypeError("Object is not async iterable")}(c);m=!(J=yield le.next()).done;m=!1){const ce=J.value;yield d(ce),h++}}catch(ce){T=!0,U=ce}finally{try{m&&null!=le.return&&(yield le.return())}finally{if(T)throw U}}return h})()}paginator(d){var c=this;return(0,I.Z)(function*(){c.options.orderBy=de.P.createUniqueEntityOrderBy(c.repo.metadata,c.options.orderBy);let m,h=yield c.repo.find({where:{$and:[c.options.where,d]},orderBy:c.options.orderBy,limit:c.options.pageSize,load:c.options.load}),T=h.length==c.options.pageSize;if(T){let U=yield c.repo.createAfterFilter(c.options.orderBy,h[h.length-1]);m=()=>c.paginator(U)}return{count:()=>c.count(),hasNextPage:T,items:h,nextPage:m}})()}[Symbol.asyncIterator](){var d=this;this.options.where||(this.options.where={}),this.options.orderBy=de.P.createUniqueEntityOrderBy(this.repo.metadata,this.options.orderBy);let m,T,h=-1,U=0;return T=function(){var le=(0,I.Z)(function*(){if(d.options.progress&&d.options.progress.progress(U++/(yield d.count())),void 0===m||h==m.items.length){if(m&&!m.hasNextPage)return{value:void 0,done:!0};let J=m;if(m=m?yield m.nextPage():yield d.paginator(),h=0,0==m.items.length)return{value:void 0,done:!0};if(J?.items.length>0&&d.repo.getEntityRef(J.items[0]).getId()==d.repo.getEntityRef(m.items[0]).getId())throw new Error("pagination failure, returned same first row")}if(h<m.items.length)return{value:m.items[h++],done:!1}});return function(){return le.apply(this,arguments)}}(),{next:(le=(0,I.Z)(function*(){return T()}),function(){return le.apply(this,arguments)})};var le}}class yn{reportChanged(){this._subscribers&&this._subscribers.forEach(d=>d.reportChanged())}reportObserved(){this._subscribers&&this._subscribers.forEach(d=>d.reportObserved())}subscribe(d){let c;return c="function"==typeof d?{reportChanged:()=>d(),reportObserved:()=>{}}:d,this._subscribers||(this._subscribers=[]),this._subscribers.push(c),()=>this._subscribers=this._subscribers.filter(h=>h!=c)}}function Gr(G){return G.metadata?G.metadata:ee(G,!1)?H.w.defaultRemult.repo(G).metadata:G}function tn(G){return ee(G,!1)?H.w.defaultRemult.repo(G):G}},246:(ze,Ee,V)=>{"use strict";V.d(Ee,{z:()=>se});var I=V(584);function se(w,N){return w.idMetadata.field instanceof I.GG?w.idMetadata.field.getId(N):N[w.idMetadata.field.key]}},133:(ze,Ee,V)=>{"use strict";V.d(Ee,{Ag:()=>I.Ag,Iv:()=>I.Iv,JH:()=>I.JH,NS:()=>I.NS,cG:()=>I.cG,eP:()=>I.eP,er:()=>I.er,gY:()=>I.gY,st:()=>I.st});var I=V(363)},479:(ze,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{Action:()=>K,BackendMethod:()=>M,Controller:()=>y,ForbiddenError:()=>q,ProgressListener:()=>z,actionInfo:()=>B,classBackendMethodsArray:()=>ge,myServerAction:()=>Y,prepareArgsToSend:()=>ee,prepareReceivedArgs:()=>ie,serverActionField:()=>H});var I=V(861),N=(V(37),V(27)),Z=V(948),ne=V(84),de=V(133),be=V(925);let K=(()=>{class j{constructor($,X,v){this.actionUrl=$,this.queue=X,this.allowed=v}run($,X,v){var _=this;return(0,I.Z)(function*(){void 0===X&&(X=be.x.apiClient.url),v||(v=(0,Z.kk)(be.x.apiClient.httpClient));let O=yield v.post(X+"/"+_.actionUrl,$);if(!O||!O.queuedJobId)return O;{let b=B.startBusyWithProgress();try{let S;if(yield B.runActionWithoutBlockingUI((0,I.Z)(function*(){for(;!S||!S.done;)S&&(yield new Promise(x=>setTimeout(()=>{x(void 0)},200))),S=yield v.post(X+"/"+j.apiUrlForJobStatus,{queuedJobId:O.queuedJobId}),S.progress&&b.progress(S.progress)})),S.error)throw S.error;return b.progress(1),S.result}finally{b.close()}}})()}__register($){var X=this;$(this.actionUrl,this.queue,this.allowed,function(){var v=(0,I.Z)(function*(_,O,E){try{var b=yield X.execute(_,O,E);E.success(b)}catch(S){S.isForbiddenError?E.forbidden():E.error(S)}});return function(_,O,E){return v.apply(this,arguments)}}())}}return j.apiUrlForJobStatus="jobStatusInQueue",j})();class q extends Error{constructor(){super("Forbidden"),this.isForbiddenError=!0}}class Y extends K{constructor(R,$,X,v){super(R,X.queue,X.allowed),this.types=$,this.options=X,this.originalMethod=v}execute(R,$,X){var v=this;return(0,I.Z)(function*(){let _={data:{}},O=$.dataProvider;return yield(0,N.dg)($,(0,I.Z)(function*(){if(!$.isAllowedForInstance(void 0,v.options.allowed))throw new q;R.args=yield ie(v.types,R.args,$,O,X);try{_.data=yield v.originalMethod(R.args)}catch(E){throw E}})),_})()}}const B={allActions:[],runningOnServer:!1,runActionWithoutBlockingUI:j=>j(),startBusyWithProgress:()=>({progress:j=>{},close:()=>{}})},H=Symbol("serverActionField"),g=new Map;function y(j){return function(R){return g.set(R,{key:j}),(0,N.FJ)(R,{key:j}),R}}function M(j){return(R,$,X)=>{if(void 0!==R.prototype){var O=X.value,v=Reflect.getMetadata("design:paramtypes",R,$);j.paramTypes&&(v=j.paramTypes);let x=new Y($,v,j,k=>O.apply(void 0,k));return x.doWork=function(){var k=(0,I.Z)(function*(W,ue,pe,$e){return W=ee(v,W),!1===j.blockUser?yield B.runActionWithoutBlockingUI((0,I.Z)(function*(){return(yield x.run({args:W},pe,$e)).data})):(yield x.run({args:W},pe,$e)).data});return function(W,ue,pe,$e){return k.apply(this,arguments)}}(),X.value=(0,I.Z)(function*(...k){return B.runningOnServer?yield O.apply(void 0,k):yield x.doWork(k,void 0)}),P(R,X),X.value[H]=x,X}v=Reflect.getMetadata("design:paramtypes",R,$),j.paramTypes&&(v=j.paramTypes);let _=N.Qo.get(R.constructor);_||(_=new N.gw,N.Qo.set(R.constructor,_)),O=X.value;let E={__register(b){let S=new N.zm;for(const x of _.classes.keys()){let k=_.classes.get(x);k.key||(k.key=S.repo(x).metadata.key),b(k.key+"/"+$,!!j&&j.queue,j.allowed,function(){var W=(0,I.Z)(function*(ue,pe,$e){ue.args=ue.args.map(we=>L(we)?void 0:we);let Ce=j.allowed;try{let We,we=pe;yield(0,N.dg)(we,(0,I.Z)(function*(){if(ue.args=yield ie(v,ue.args,we,we.dataProvider,$e),N.MQ.includes(x)){let Me,Ie=we.repo(x);if(ue.rowInfo.isNewRow)Me=Ie.create(),yield Ie.getEntityRef(Me)._updateEntityBasedOnApi(ue.rowInfo.data);else{let lt=yield Ie.find({where:{...Ie.metadata.idMetadata.getIdFilter(ue.rowInfo.id),$and:[Ie.metadata.options.apiPrefilter]}});if(1!=lt.length)throw new Error("not found or too many matches");Me=lt[0],yield Ie.getEntityRef(Me)._updateEntityBasedOnApi(ue.rowInfo.data)}if(!we.isAllowedForInstance(Me,Ce))throw new q;let Je=(0,de.NS)(Me);yield Je.__validateEntity();try{We={result:yield O.apply(Me,ue.args),rowInfo:{data:yield Je.toApiJson(),isNewRow:Je.isNew(),wasChanged:Je.wasChanged(),id:Je.getOriginalId()}}}catch(lt){throw Je.catchSaveErrors(lt)}}else{let Ie=new x(we,we.dataProvider),Me=(0,de.er)(Ie,we);if(yield Me._updateEntityBasedOnApi(ue.fields),!we.isAllowedForInstance(Ie,Ce))throw new q;yield Me.__validateEntity();try{We={result:yield O.apply(Ie,ue.args),fields:yield Me.toApiJson()}}catch(Je){throw Me.catchSaveErrors(Je)}}})),$e.success(We)}catch(we){we.isForbiddenError?$e.forbidden():$e.error(we)}});return function(ue,pe,$e){return W.apply(this,arguments)}}())}},doWork:(b=(0,I.Z)(function*(S,x,k,W){if(S=ee(v,S),N.MQ.includes(R.constructor)){let ue=(0,de.NS)(x);yield ue.__validateEntity();let pe=_.classes.get(x.constructor);pe.key||(pe.key=ue.repository.metadata.key+"_methods");try{let $e=yield new class extends K{}(pe.key+"/"+$,!!j&&j.queue,j.allowed).run({args:S,rowInfo:{data:yield ue.toApiJson(),isNewRow:ue.isNew(),wasChanged:ue.wasChanged(),id:ue.getOriginalId()}},k,W);return yield ue._updateEntityBasedOnApi($e.rowInfo.data),$e.result}catch($e){throw ue.catchSaveErrors($e)}}else{let ue=(0,de.er)(x,void 0);try{yield ue.__validateEntity();let pe=yield new class extends K{}(_.classes.get(x.constructor).key+"/"+$,!!j&&j.queue,j.allowed).run({args:S,fields:yield ue.toApiJson()},k,W);return yield ue._updateEntityBasedOnApi(pe.fields),pe.result}catch(pe){throw ue.catchSaveErrors(pe)}}}),function(x,k,W,ue){return b.apply(this,arguments)})};var b;return X.value=(0,I.Z)(function*(...b){return B.runningOnServer?yield O.apply(this,b):E.doWork(b,this)}),P(R.constructor,X),X.value[H]=E,X}}const A={_isUndefined:!0};function P(j,R){(j[ge]||(j[ge]=[])).push(R.value),B.allActions.push(R.value)}function L(j){return j&&j._isUndefined}class z{constructor(R){this.res=R}progress(R){this.res.progress(R)}}function ee(j,R){if(j)for(let $=0;$<j.length;$++){const X=j[$];for(const v of[N.zm,ne.Y])(R[$]instanceof v||X==v)&&(R[$]=void 0);if(null!=R[$]){let v={valueType:X};if(v=(0,de.gY)(v,new N.zm),v.valueConverter&&(R[$]=v.valueConverter.toJson(R[$])),null!=(0,de.cG)(X,!1)){let O=(0,de.NS)(R[$]);R[$]=O.getId()}}}return R.map($=>void 0!==$?$:A)}function ie(j,R,$,X,v){return De.apply(this,arguments)}function De(){return(De=(0,I.Z)(function*(j,R,$,X,v){for(let _=0;_<R.length;_++)L(R[_])&&(R[_]=void 0);if(j)for(let _=0;_<j.length;_++)if(R.length<_&&R.push(void 0),j[_]==N.zm||j[_]==N.zm)R[_]=$;else if(j[_]==ne.Y&&X)R[_]=X;else if(j[_]==z)R[_]=new z(v);else{let O={valueType:j[_]};O=(0,de.gY)(O,$),O.valueConverter&&(R[_]=O.valueConverter.fromJson(R[_])),null!=(0,de.cG)(j[_],!1)&&(null==R[_]||(R[_]=yield $.repo(j[_]).findId(R[_])))}return R})).apply(this,arguments)}const ge=Symbol("classBackendMethodsArray")},732:(ze,Ee,V)=>{"use strict";V.d(Ee,{P:()=>se});var I=V(584);class se{constructor(...N){this.Segments=N}toEntityOrderBy(){let N={};for(const Z of this.Segments)N[Z.field.key]=Z.isDescending?"desc":"asc";return N}reverse(){let N=new se;for(const Z of this.Segments)N.Segments.push({field:Z.field,isDescending:!Z.isDescending});return N}compare(N,Z){let ne=0;for(let de=0;de<this.Segments.length;de++){let be=this.Segments[de],K=N[be.field.key],q=Z[be.field.key];if(K>q?ne=1:K<q&&(ne=-1),0!=ne)return be.isDescending&&(ne*=-1),ne}return ne}static translateOrderByToSort(N,Z){if(!Z)return;let ne;if(Z){ne=new se;for(const de in Z)if(Object.prototype.hasOwnProperty.call(Z,de)){const be=Z[de];let K=N.fields.find(de);if(K)switch(be){case"desc":ne.Segments.push({field:K,isDescending:!0});break;case"asc":ne.Segments.push({field:K})}}}return ne}static createUniqueSort(N,Z){if((!Z||0===Object.keys(Z).length)&&(Z=se.translateOrderByToSort(N,N.options.defaultOrderBy)),Z||(Z=new se({field:N.idMetadata.field})),N.idMetadata.field instanceof I.GG)for(const ne of N.idMetadata.field.fields)Z.Segments.find(de=>de.field==ne)||Z.Segments.push({field:ne});else Z.Segments.find(ne=>ne.field==N.idMetadata.field)||Z.Segments.push({field:N.idMetadata.field});return Z}static createUniqueEntityOrderBy(N,Z){if((!Z||0===Object.keys(Z).length)&&(Z=N.options.defaultOrderBy),Z||(Z={[N.idMetadata.field.key]:"asc"}),N.idMetadata.field instanceof I.GG)for(const ne of N.idMetadata.field.fields)Z[ne.key]||(Z[ne.key]="asc");else Z[N.idMetadata.field.key]||(Z[N.idMetadata.field.key]="asc");return Z}}},259:(ze,Ee,V)=>{"use strict";V.d(Ee,{K:()=>se});let I=(()=>{class w{}return w.number="number",w.date="date",w.checkbox="checkbox",w.password="password",w.email="email",w.tel="tel",w.time="time",w})();class se{}se.Date={toJson:w=>{if(null===w)return null;if(!w)return"";if("string"==typeof w&&(w=new Date(w)),w instanceof Date)return w.toISOString();throw new Error("Expected date but got "+w)},fromJson:w=>null===w?null:null==w||""==w||w.startsWith("0000-00-00")?void 0:new Date(Date.parse(w)),toDb:w=>w,fromDb:w=>{if("number"==typeof w&&(w=new Date(w)),"string"==typeof w&&(w=new Date(w)),w&&!(w instanceof Date))throw"expected date but got "+w;return w},fromInput:w=>se.Date.fromJson(w),toInput:w=>se.Date.toJson(w),displayValue:w=>w?w.toLocaleString():""},se.DateOnly={fromInput:w=>se.DateOnly.fromJson(w),toInput:w=>se.DateOnly.toJson(w),toJson:w=>{var N=w;return("string"==typeof N||"number"==typeof N)&&(N=new Date(N)),N&&null!=N?0==N.getHours()?new Date(N.valueOf()-6e4*N.getTimezoneOffset()).toISOString().substring(0,10):N.toISOString().substring(0,10):null},fromJson:w=>{if(!w||""==w||"0000-00-00"==w)return null;let N=new Date(Date.parse(w));return N.setMinutes(N.getMinutes()+N.getTimezoneOffset()),N},inputType:I.date,toDb:w=>w?se.DateOnly.fromJson(se.DateOnly.toJson(w)):null,fromDb:w=>se.Date.fromDb(w),fieldTypeInDb:"date",displayValue:w=>w?w.toLocaleDateString(void 0):""},se.DateOnlyString={...se.DateOnly,toDb:w=>{let N=se.DateOnly.toJson(w);if(N)return N.replace(/-/g,"")},fromDb:w=>null===w?null:w?new Date(w.substring(0,4)+"-"+w.substring(4,6)+"-"+w.substring(6,8)):void 0},se.Boolean={toDb:w=>w,inputType:I.checkbox,fromDb:w=>se.Boolean.fromJson(w),fromJson:w=>"boolean"==typeof w?w:1===w||(null!=w?"true"==w.toString().trim().toLowerCase():w),toJson:w=>w,fromInput:w=>se.Boolean.fromJson(w),toInput:w=>se.Boolean.toJson(w)},se.Number={fromDb:w=>null===w?null:void 0!==w?+w:void 0,toDb:w=>w,fromJson:w=>se.Number.fromDb(w),toJson:w=>se.Number.toDb(w),fromInput:(w,N)=>{if(w)return+w},toInput:(w,N)=>w?.toString(),inputType:I.number},se.Integer={...se.Number,toJson:w=>{let N=se.Number.toDb(w);return N&&+(+N).toFixed(0)},toDb:w=>se.Integer.toJson(w),fieldTypeInDb:"integer"},se.Default={fromJson:w=>w,toJson:w=>w,fromDb:w=>se.JsonString.fromDb(w),toDb:w=>se.JsonString.toDb(w),fromInput:w=>se.Default.fromJson(w),toInput:w=>se.Default.toJson(w)},se.JsonString={fromJson:w=>w,toJson:w=>w,fromDb:w=>null==w?null:w?JSON.parse(se.JsonString.fromJson(w)):void 0,toDb:w=>void 0!==w?null===w?null:JSON.stringify(se.JsonString.toJson(w)):void 0,fromInput:w=>se.JsonString.fromJson(w),toInput:w=>se.JsonString.toJson(w)},se.JsonValue={fromJson:w=>w,toJson:w=>w,fromDb:w=>w,toDb:w=>w,fromInput:w=>se.JsonString.fromJson(w),toInput:w=>se.JsonString.toJson(w),fieldTypeInDb:"json"}},42:(ze,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>B});var I,se=new Uint8Array(16);function w(){if(!I&&!(I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(se)}const N=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ne=function Z(H){return"string"==typeof H&&N.test(H)};for(var de=[],be=0;be<256;++be)de.push((be+256).toString(16).substr(1));const B=function Y(H,g,y){var M=(H=H||{}).random||(H.rng||w)();if(M[6]=15&M[6]|64,M[8]=63&M[8]|128,g){y=y||0;for(var A=0;A<16;++A)g[y+A]=M[A];return g}return function K(H){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=(de[H[g+0]]+de[H[g+1]]+de[H[g+2]]+de[H[g+3]]+"-"+de[H[g+4]]+de[H[g+5]]+"-"+de[H[g+6]]+de[H[g+7]]+"-"+de[H[g+8]]+de[H[g+9]]+"-"+de[H[g+10]]+de[H[g+11]]+de[H[g+12]]+de[H[g+13]]+de[H[g+14]]+de[H[g+15]]).toLowerCase();if(!ne(y))throw TypeError("Stringified UUID is invalid");return y}(M)}},655:(ze,Ee,V)=>{"use strict";function Z(E,b,S,x){var ue,k=arguments.length,W=k<3?b:null===x?x=Object.getOwnPropertyDescriptor(b,S):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(E,b,S,x);else for(var pe=E.length-1;pe>=0;pe--)(ue=E[pe])&&(W=(k<3?ue(W):k>3?ue(b,S,W):ue(b,S))||W);return k>3&&W&&Object.defineProperty(b,S,W),W}function Y(E,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(E,b)}function B(E,b,S,x){return new(S||(S=Promise))(function(W,ue){function pe(we){try{Ce(x.next(we))}catch(We){ue(We)}}function $e(we){try{Ce(x.throw(we))}catch(We){ue(We)}}function Ce(we){we.done?W(we.value):function k(W){return W instanceof S?W:new S(function(ue){ue(W)})}(we.value).then(pe,$e)}Ce((x=x.apply(E,b||[])).next())})}function ee(E){return this instanceof ee?(this.v=E,this):new ee(E)}function ie(E,b,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k,x=S.apply(E,b||[]),W=[];return k={},ue("next"),ue("throw"),ue("return"),k[Symbol.asyncIterator]=function(){return this},k;function ue(Ie){x[Ie]&&(k[Ie]=function(Me){return new Promise(function(Je,lt){W.push([Ie,Me,Je,lt])>1||pe(Ie,Me)})})}function pe(Ie,Me){try{!function $e(Ie){Ie.value instanceof ee?Promise.resolve(Ie.value.v).then(Ce,we):We(W[0][2],Ie)}(x[Ie](Me))}catch(Je){We(W[0][3],Je)}}function Ce(Ie){pe("next",Ie)}function we(Ie){pe("throw",Ie)}function We(Ie,Me){Ie(Me),W.shift(),W.length&&pe(W[0][0],W[0][1])}}function ge(E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,b=E[Symbol.asyncIterator];return b?b.call(E):(E=function M(E){var b="function"==typeof Symbol&&Symbol.iterator,S=b&&E[b],x=0;if(S)return S.call(E);if(E&&"number"==typeof E.length)return{next:function(){return E&&x>=E.length&&(E=void 0),{value:E&&E[x++],done:!E}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}(E),S={},x("next"),x("throw"),x("return"),S[Symbol.asyncIterator]=function(){return this},S);function x(W){S[W]=E[W]&&function(ue){return new Promise(function(pe,$e){!function k(W,ue,pe,$e){Promise.resolve($e).then(function(Ce){W({value:Ce,done:pe})},ue)}(pe,$e,(ue=E[W](ue)).done,ue.value)})}}}V.d(Ee,{FC:()=>ie,KL:()=>ge,gn:()=>Z,mG:()=>B,qq:()=>ee,w6:()=>Y})},861:(ze,Ee,V)=>{"use strict";function I(w,N,Z,ne,de,be,K){try{var q=w[be](K),Y=q.value}catch(B){return void Z(B)}q.done?N(Y):Promise.resolve(Y).then(ne,de)}function se(w){return function(){var N=this,Z=arguments;return new Promise(function(ne,de){var be=w.apply(N,Z);function K(Y){I(be,ne,de,K,q,"next",Y)}function q(Y){I(be,ne,de,K,q,"throw",Y)}K(void 0)})}}V.d(Ee,{Z:()=>se})}},ze=>{ze(ze.s=457)}]);